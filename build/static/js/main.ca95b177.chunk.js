(this["webpackJsonpappointment-system"]=this["webpackJsonpappointment-system"]||[]).push([[0],{123:function(e,t,a){},173:function(e,t,a){},242:function(e,t,a){},344:function(e,t,a){e.exports=a.p+"static/media/logo.275c7690.png"},345:function(e,t,a){},384:function(e,t,a){e.exports=a(610)},389:function(e,t,a){},390:function(e,t,a){},52:function(e,t,a){},563:function(e,t,a){},607:function(e,t,a){},610:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(62),o=a.n(l),s=(a(389),a(87)),i=a(34),c=(a(390),a(12)),d=a(13),p=a(17),m=a(15),u=a(14),h=a(344),f=a.n(h),E=a(345),v=a.n(E),y=a(16),b=a.n(y),g=a(663),C=a(6),w=(a(60),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onClickConfirmButton=n.onClickConfirmButton.bind(Object(p.a)(n)),n.onChangeAdminPassword=n.onChangeAdminPassword.bind(Object(p.a)(n)),n.onAdminValidation=n.onAdminValidation.bind(Object(p.a)(n)),n.closeModal=n.closeModal.bind(Object(p.a)(n)),n.state={open:!1,username:"",password:"",confirmPassword:"",adminPassword:""},n}return Object(d.a)(a,[{key:"closeModal",value:function(){this.setState({open:!this.state.open})}},{key:"onChangeAdminPassword",value:function(e){this.setState({adminPassword:e.target.value})}},{key:"onClickConfirmButton",value:function(){var e=this;this.state.username=this.props.username,this.state.password=this.props.password,this.state.confirmPassword=this.props.confirmPassword;var t={username:this.state.username};0===this.state.username.length||0===this.state.password.length||0===this.state.confirmPassword?Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please fill up all input fields."),icon:"cancel"}):b.a.post("admin/validateUsername",t).then((function(t){!0===t.data.message?e.state.password===e.state.confirmPassword?e.state.password.length>=10&&e.state.password.length<=32?e.setState({open:!e.state.open}):(Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password should contain 10 to 32 alphanumeric characters"),icon:"cancel"}),console.log(e.props.username+" "+e.props.password+" "+e.props.confirmPassword)):Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Passwords do not match."),icon:"cancel"}):Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Username is not found."),icon:"cancel"})}))}},{key:"onAdminValidation",value:function(){var e=this,t={newPassword:this.state.adminPassword};b.a.post("admin/checkCurrentAdminPassword",t).then((function(t){if(!0===t.data){var a={username:e.state.username,newPassword:e.state.password};b.a.post("admin/updateAccountPassword",a).then((function(t){console.log(t.data.message),e.setState({open:!e.state.open}),e.props.open=!1})).catch((function(e){console.log("Error Status:"+e.status),console.log("Error Code: "+e.code)}))}else Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect admin password. Please try again."),icon:"cancel"})})).catch((function(e){console.log("Error Status:"+e.status),console.log("Error Code: "+e.code)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"ui right aligned floated labeled icon green button",id:"reset-button",onClick:this.onClickConfirmButton},"CONFIRM",r.a.createElement("i",{className:"checkmark icon"})),r.a.createElement(g.a,{id:"login-clarification-modal",open:this.state.open,centered:!0},r.a.createElement(g.a.Header,null,r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"edit icon",style:{color:"white"}}),"\xa0\xa0Reset Password")),r.a.createElement(g.a.Content,null,r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"edit icon",style:{color:"white"}}),"\xa0\xa0Reset Password"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"ui form"},r.a.createElement("div",{className:"required field",id:"admin-input-field"},r.a.createElement("label",null,"Please input admin password"),r.a.createElement("input",{type:"password",name:"admin",id:"admin-input",placeholder:"Admin Password",value:this.state.adminPassword,onChange:this.onChangeAdminPassword})))),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"ui right aligned floated labeled icon green button",id:"reset-button-admin",onClick:this.onAdminValidation},"CONFIRM",r.a.createElement("i",{className:"checkmark icon"})),r.a.createElement("div",{className:"ui right labeled icon cancel button",onClick:this.closeModal},"CANCEL",r.a.createElement("i",{className:"cancel icon"}))))))}}]),a}(n.Component)),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeUserName=n.onChangeUserName.bind(Object(p.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(p.a)(n)),n.onChangeConfirmPassword=n.onChangeConfirmPassword.bind(Object(p.a)(n)),n.onClickForgotButton=n.onClickForgotButton.bind(Object(p.a)(n)),n.state={open:!1,username:"",password:"",confirmPassword:""},n}return Object(d.a)(a,[{key:"onChangeUserName",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeConfirmPassword",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"onClickForgotButton",value:function(){this.setState({open:!this.state.open})}},{key:"onSubmitNewPassword",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"ui button",id:"forgot",style:{paddingBottom:"15px",textDecoration:"underline",backgroundColor:"transparent"},onClick:this.onClickForgotButton},"Forgot password?"),r.a.createElement(g.a,{id:"rest-password-modal",open:this.state.open,centered:!0},r.a.createElement(g.a.Header,null,r.a.createElement("i",{className:"edit icon",style:{color:"white"}}),"\xa0\xa0Reset Password"),r.a.createElement(g.a.Content,null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"ui form"},r.a.createElement("div",{className:"required field",id:"reset-username-field"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",id:"reset-username",placeholder:"Username",value:this.state.username,onChange:this.onChangeUserName})),r.a.createElement("div",{className:"required field",id:"reset-password-field"},r.a.createElement("label",null,"Password"),r.a.createElement("div",{"data-tooltip":"Password should contain 10 to 32 alphanumeric characters","data-position":"right center"},r.a.createElement("input",{type:"password",name:"password",id:"reset-password",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword}))),r.a.createElement("div",{className:"required field",id:"reset-confirm-password-field"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("div",{"data-tooltip":"Password should contain 10 to 32 alphanumeric characters","data-position":"right center"},r.a.createElement("input",{type:"password",name:"confirmPassword",id:"reset-confirm-password",placeholder:"Password",value:this.state.confirmPassword,onChange:this.onChangeConfirmPassword}))))),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{style:{left:"50px",display:"inline-block"}},r.a.createElement(w,{username:this.state.username,password:this.state.password,confirmPassword:this.state.confirmPassword})),r.a.createElement("div",{className:"ui right labeled icon cancel button",onClick:this.onClickForgotButton},"CANCEL",r.a.createElement("i",{className:"cancel icon"}))))))}}]),a}(n.Component),D=a(25),O=a(29),S=a.n(O),j=a(7),A=a.n(j),P=(a(172),a(563),a(73),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleChangeDate=function(t){e.props.handleChangeDate(t)},e.disableSunday=function(e){return 0!==A()(e).day()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleOnToday,a=e.handleOnPrev,n=e.handleOnNext,l=e.date,o=e.handleChangeDate;return r.a.createElement("div",{class:"item"},r.a.createElement("div",{className:"picker"},r.a.createElement(S.a,{id:"datepicker-secretary",selected:A()(l).toDate(),onChange:o,onSelect:o,filterDate:this.disableSunday})),r.a.createElement("div",{className:"today",class:"ui basic button with tooltip","data-title":"Today (SPACEBAR)","data-content":"Moves focus date to today","data-variation":"basic","data-position":"bottom center",id:"today",onClick:t,style:{fontWeight:"bolder",marginLeft:"30px"}},"TODAY"),r.a.createElement("div",{class:"ui icon basic buttons",style:{marginLeft:"30px"}},r.a.createElement("div",{class:"ui button with tooltip","data-title":"Previous (\u2190)","data-content":"Moves focused date to yesterday","data-position":"bottom center","data-inverted":"","data-variation":"basic",id:"prev-button",onClick:a},r.a.createElement("i",{class:"angle left icon"})),r.a.createElement("div",{class:"ui button with tooltip","data-title":"Next (\u2192)","data-content":"Moves focused date to tomorrow","data-position":"bottom center","data-inverted":"","data-variation":"basic",id:"next-button",onClick:n},r.a.createElement("i",{class:"angle right icon"}))))}}]),a}(n.Component)),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleOnToday=function(){e.props.onToday()},e.handleOnPrev=function(){e.props.onPrev()},e.handleOnNext=function(){e.props.onNext()},e.handleChangeDate=function(t){e.props.onChangeDate(t)},e}return Object(d.a)(a,[{key:"logout",value:function(){b.a.get("/logout").then(console.log("Logout Successfully")),window.location.href="/"}},{key:"render",value:function(){var e=this,t=Date.parse(this.props.date),a=A()(t).format("MMMM D, YYYY");return r.a.createElement("div",{class:"ui top fixed sticky borderless menu",id:"secretary-navigation-bar",style:{height:"65px"}},r.a.createElement("div",{class:"item",id:"secretary-picker-container"},r.a.createElement(P,{id:"secretary-picker",handleChangeDate:this.handleChangeDate,handleOnToday:this.handleOnToday,handleOnPrev:this.handleOnPrev,handleOnNext:this.handleOnNext,date:this.props.date})),r.a.createElement("div",{class:"item",id:"secretary-date-text-container"},r.a.createElement("span",{style:{fontSize:"20px"},id:"secretary-date-text"},a)),r.a.createElement("div",{class:"right borderless menu",id:"secretary-rightside"},r.a.createElement("div",{class:"item",id:"secretary-logout-container",onClick:function(){return e.logout()}},r.a.createElement("i",{id:"logoutButton",class:"large sign out icon link"}))))}}]),a}(n.Component),U=a(114),T=a(660),N=a(658),x=(a(123),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).hello=function(e){console.log(e),n.setState({today:e})},n.state={today:n.props.date,startOfWeek:n.props.startOfWeek,endOfWeek:n.props.endOfWeek,days:n.props.daysParent,weekUnparsed:n.props.weekUnparsed},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){for(var e=this,t=[],a=Date.parse(this.state.today),n=A()(a).format("MMMM D, YYYY"),l=function(a){e.state.days[a]==n?t.push(r.a.createElement(N.a.Cell,{onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])},style:{backgroundColor:"red"}},e.state.days[a])):t.push(r.a.createElement(N.a.Cell,{onClick:e.props.onChangeDate},e.state.days[a]))},o=0;o<this.state.days.length;o++)l(o);this.setState({days:this.state.days,weekUnparsed:this.state.weekUnparsed})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.date!==this.state.today){for(var t=[],a=Date.parse(this.state.today),n=A()(a).format("MMMM D, YYYY"),l=function(a){e.state.days[a]==n?t.push(r.a.createElement(N.a.Cell,{onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])},style:{backgroundColor:"red"}},e.state.days[a])):t.push(r.a.createElement(N.a.Cell,{onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])}},e.state.days[a]))},o=0;o<this.state.days.length;o++)l(o);this.setState({today:this.props.date,startOfWeek:this.props.startOfWeek,endOfWeek:this.props.endOfWeek,days:this.props.daysParent,weekUnparsed:this.props.weekUnparsed})}}},{key:"render",value:function(){var e=this,t=[],a=Date.parse(this.state.today),n=A()(a).format("MMMM D, YYYY");t.push(r.a.createElement(N.a.Cell,{id:"secretary-add-appointment"}));for(var l=function(a){e.state.days[a]==n?t.push(r.a.createElement(N.a.Cell,{id:"sec-header-child",onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])},style:{backgroundColor:"red"}},e.state.days[a])):t.push(r.a.createElement(N.a.Cell,{id:"sec-header-child",onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])}},e.state.days[a]))},o=0;o<this.state.days.length;o++)l(o);return r.a.createElement(N.a,{id:"SECHEADER",celled:!0,textAlign:"center",style:{height:"70px"},compact:!0},r.a.createElement(N.a.Body,null,r.a.createElement(N.a.Row,{children:t})))}}]),a}(n.Component)),W=a(78),I=a(89),F=a(656),_=a(202),H=a(38),z=(n.Component,function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={appointments:n.props.appointments,weeks:n.props.week},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){this.props.week!=this.state.weeks&&(console.log("Hello"),this.props.handleWeekAppointmentUpdate(),this.setState({weeks:this.props.week}))}},{key:"render",value:function(){return console.log("prop: "),console.log(this.props.week),console.log("state: "),console.log(this.state.weeks),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{id:"table-header-title",compact:!0},r.a.createElement(N.a.Header,{fullWidth:!0},r.a.createElement(W.a,{textAlign:"center"},r.a.createElement(N.a.Cell,null,"Weekly Appointments")))),r.a.createElement(N.a,{id:"week_all",celled:!0,fixed:!0,textAlign:"center",compact:!0},r.a.createElement(N.a.Body,null,this.props.appointments.map((function(e,t){var a=e.slot,n=e.weekAppointments;return r.a.createElement(N.a.Row,{key:t,name:"week-all-row-"+t},r.a.createElement(N.a.Cell,{id:"week-all-time-cell"},a),n.map((function(e,t){var a=e.appointments;return r.a.createElement(N.a.Cell,{id:"week-all-table-cell",name:"week-all-td-"+t},a.map((function(e){})))})))})))))}}]),a}(n.Component)),R=(n.Component,n.Component,function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).onWeek=function(e){for(var t=A()(e).startOf("week"),a=A()(e).endOf("week"),r=[],l=[];t<=a;){l.push(t.toDate());var o=Date.parse(t),s=A()(o).format("MMMM D, YYYY");r.push(s),t=t.clone().add(1,"d")}n.setState({startOfWeek:t,endOfWeek:a,days:r,weekUnparsed:l})},n.onChangeFilter=function(e,t){var a=t.name,r=t.value;console.log("Selecting Filter..."),n.setState(Object(D.a)({},a,r))},n.onChangeView=function(e,t){var a=t.name,r=t.value;n.setState(Object(D.a)({},a,r)),console.log(r)},n.onToday=function(){console.log("Changing date to today"),n.setState({date:A()().toDate()}),n.onWeek(A()().toDate())},n.onPrev=function(){var e=A()(n.state.date).clone().subtract(1,"day").toDate();console.log("change to: ",e),n.setState({date:e}),n.onWeek(e)},n.onNext=function(){var e=A()(n.state.date).clone().add(1,"day").toDate();console.log("change to: ",e),n.setState({date:e}),n.onWeek(e)};for(var r=A()(A()().toDate()).startOf("week"),l=A()(A()().toDate()).endOf("week"),o=[],s=[];r<=l;){s.push(r.toDate().toString());var i=Date.parse(r),d=A()(i).format("MMMM D, YYYY");o.push(d),r=r.clone().add(1,"d")}return n.onChangeDate=n.onChangeDate.bind(Object(p.a)(n)),n.handleWeekAppointmentUpdate=n.handleWeekAppointmentUpdate.bind(Object(p.a)(n)),n.handleDayAppointmentUpdate=n.handleDayAppointmentUpdate.bind(Object(p.a)(n)),n.handleWeekAvailable=n.handleWeekAvailable.bind(Object(p.a)(n)),n.state={doctors:[],weekAppointments:[],dayAppointments:[],view:"day",filter:"appointments",date:A()().toDate(),startOfWeek:A()(A()().toDate()).startOf("week"),endOfWeek:A()(A()().toDate()).endOf("week"),days:o,weekUnparsed:s,weekAvailable:[],doctorID:""},n.handleDayAppointmentUpdate(),n.handleWeekAppointmentUpdate(),n.handleWeekAvailable(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:3000/dentist/getCurrentDentist").then((function(t){console.log(t.data),e.setState({appID:t.data._id}),console.log("KEY: "+e.state.appID);var a={appID:e.state.appID};console.log(a),b.a.post("http://localhost:3000/dentist/getAppointmentByDoctor",a).then((function(t){console.log("GOT APPOINTMENT: "+t.data),e.setState({appointments:t.data})})).catch((function(e){console.log(e)}))}))}},{key:"onChangeDate",value:function(e){console.log("changing date to: ",e),null==e?this.setState({date:A()().toDate()}):(this.onWeek(e),this.setState({date:e}))}},{key:"handleWeekAppointmentUpdate",value:function(){var e=this;console.log("Updating Week-all..."),console.log("WEEK UNPARSED:  "+this.state.weekUnparsed);var t={date:this.state.weekUnparsed};b.a.post("http://localhost:3000/dentist/weekly_view",t).then((function(t){console.log("RES: "+t.data.data.data),e.setState({weekAppointments:t.data.data.data}),console.log("Week-all Data: "),console.log("CHECK: "+t.data.data.data)}))}},{key:"handleDayAppointmentUpdate",value:function(){var e=this;console.log("DayUpdate");var t={date:this.state.date};b.a.post("http://localhost:3000/secretary/day_all",t).then((function(t){e.setState({dayAppointments:t.data.data.data}),console.log("Day-all Data"),console.log(t.data.data.data)}))}},{key:"handleWeekAvailable",value:function(){var e=this;console.log("Updating Availability...");var t={weeks:this.state.weekUnparsed};console.log("Current week"),console.log(this.state.weekUnparsed),b.a.post("http://localhost:3000/secretary/availabilityAll",t).then((function(t){e.setState({weekAvailable:t.data.data}),console.log("WeekAvailable Data: "),console.log(t.data.data)}))}},{key:"render",value:function(){var e,t=[{text:"APPOINTMENTS",key:"appointments",value:"appointments"},{text:"AVAILABILITY",key:"availability",value:"availability"},r.a.createElement(U.a,{selection:!0,options:this.state.doctors,onChange:this.onChangeFilter,name:"filter"})];return console.log("Changing to week Appointment table..."),e=r.a.createElement(z,{week:this.state.weekUnparsed,appointments:this.state.weekAppointments,handleWeekAppointmentUpdate:this.handleWeekAppointmentUpdate}),r.a.createElement("div",null,r.a.createElement(C.SemanticToastContainer,{position:"top-center"}),r.a.createElement(T.a,{id:"secretary_header_container",content:r.a.createElement(M,{id:"secretary_navbar",onChangeDate:this.onChangeDate,onPrev:this.onPrev,onNext:this.onNext,onToday:this.onToday,onChangeView:this.onChangeView,date:this.state.date,filter:this.state.filter,filters:t,viewer:[{text:"DAY",key:"day",value:"day"},{text:"WEEK",key:"week",value:"week"}],doctors:this.state.doctors,onChangeFilter:this.onChangeFilter}),style:{height:"65px"}}),r.a.createElement(x,{id:"secretary_dateHeader",date:this.state.date,onChangeDate:this.onChangeDate,startOfWeek:this.state.startOfWeek,endOfWeek:this.state.endOfWeek,daysParent:this.state.days,weekUnparsed:this.state.weekUnparsed,weekLength:this.state.days.length,handleWeekAppointmentUpdate:this.handleWeekAppointmentUpdate,handleDayAppointmentUpdate:this.handleDayAppointmentUpdate,handleWeekAvailable:this.handleWeekAvailable}),r.a.createElement("div",{style:{height:"840px",margin:"0px",overflowY:"auto"}},e))}}]),a}(n.Component)),q=a(57),Y=(a(173),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleChangeDate=function(t){e.props.handleChangeDate(t)},e.disableSunday=function(e){return 0!==A()(e).day()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleOnToday,a=e.handleOnPrev,n=e.handleOnNext,l=e.date,o=e.handleChangeDate;return r.a.createElement("div",{class:"item"},r.a.createElement("div",{className:"picker"},r.a.createElement(S.a,{id:"datepicker-secretary",selected:A()(l).toDate(),onChange:o,onSelect:o,filterDate:this.disableSunday})),r.a.createElement("div",{className:"today",class:"ui basic button with tooltip","data-title":"Today (SPACEBAR)","data-content":"Moves focus date to today","data-variation":"basic","data-position":"bottom center",id:"today",onClick:t,style:{fontWeight:"bolder",marginLeft:"30px"}},"TODAY"),r.a.createElement("div",{class:"ui icon basic buttons",style:{marginLeft:"30px"}},r.a.createElement("div",{class:"ui button with tooltip","data-title":"Previous (\u2190)","data-content":"Moves focused date to yesterday","data-position":"bottom center","data-inverted":"","data-variation":"basic",id:"prev-button",onClick:a},r.a.createElement("i",{class:"angle left icon"})),r.a.createElement("div",{class:"ui button with tooltip","data-title":"Next (\u2192)","data-content":"Moves focused date to tomorrow","data-position":"bottom center","data-inverted":"","data-variation":"basic",id:"next-button",onClick:n},r.a.createElement("i",{class:"angle right icon"}))))}}]),a}(n.Component)),L=(a(52),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleOnToday=function(){e.props.onToday()},e.handleOnPrev=function(){e.props.onPrev()},e.handleOnNext=function(){e.props.onNext()},e.handleChangeDate=function(t){e.props.onChangeDate(t)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=Date.parse(this.props.date),t=A()(e).format("MMMM D, YYYY");return r.a.createElement("div",{class:"ui top fixed sticky borderless menu",id:"secretary-navigation-bar",style:{height:"65px"}},r.a.createElement("div",{class:"item",id:"secretary-picker-container"},r.a.createElement(Y,{id:"secretary-picker",handleChangeDate:this.handleChangeDate,handleOnToday:this.handleOnToday,handleOnPrev:this.handleOnPrev,handleOnNext:this.handleOnNext,date:this.props.date})),r.a.createElement("div",{class:"item",id:"secretary-date-text-container"},r.a.createElement("span",{style:{fontSize:"20px"},id:"secretary-date-text"},t)),r.a.createElement("div",{class:"right borderless menu",id:"secretary-rightside"},r.a.createElement("div",{class:"item",id:"secretary-dropdown-view-container"},r.a.createElement(U.a,{fluid:!0,selection:!0,placeholder:"DAY",name:"view",options:this.props.viewer,onChange:this.props.onChangeView,id:"secretary-dropdown-view"})),r.a.createElement("div",{class:"item",id:"secretary-dropdown-filter-container"},r.a.createElement(U.a,{selection:!0,placeholder:"filter",id:"secretary-dropdown-filter",defaultValue:this.props.filter,options:this.props.filters,onChange:this.props.onChangeFilter,name:"filter"})),r.a.createElement("div",{class:"item",id:"secretary-info-container"},r.a.createElement("i",{id:"shortcutsInfo",class:"large info circle icon"})),r.a.createElement("div",{class:"item",id:"secretary-logout-container"},r.a.createElement("i",{id:"logoutButton",class:"large sign out icon link"}))))}}]),a}(n.Component)),V=a(362),B=(a(242),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).continue=function(e){e.preventDefault(),n.props.nextStep()},n.cancel=function(e){e.preventDefault(),n.props.setOpen()},n.disableSunday=function(e){return 0!==A()(e).day()},n.disableNonMid=function(e){return 30===A()(e).minute()&&0===A()(e).minute()},n.state={date:n.props.values.date,time:A()(n.props.values.time,"h:mm aa").toDate()},n.onchangeDate=n.onchangeDate.bind(Object(p.a)(n)),n.onchangeTime=n.onchangeTime.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"onchangeDate",value:function(e){this.setState({date:e})}},{key:"onchangeTime",value:function(e){this.setState({time:e}),this.props.handleTime(e)}},{key:"render",value:function(){var e=this.props.handleDate;return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(F.a.Input,{required:!0,label:"Date",className:"addProcStep1Date",id:"add-appointment-datepicker",control:S.a,selected:this.state.date,onChange:this.onchangeDate,onSelect:e,minDate:A()().toDate(),filterDate:this.disableSunday}),r.a.createElement(F.a.Field,{required:!0,id:"time-field-secretary"},r.a.createElement("label",null,"Time"),r.a.createElement(F.a.Input,{error:this.props.values.error.time,placeholder:"Time",className:"addProcStep1Time",id:"add-appointment-time-picker",control:S.a,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.time,timeIntervals:30,dateFormat:"h:mm aa",onChange:this.onchangeTime,minTime:A()("8:00 AM","h:mm aa").toDate(),maxTime:A()().toDate().setHours(18),filterDate:this.disableNonMid}))))}}]),a}(n.Component)),$=a(662),Z=a(619),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={procedure:"",procedures:[],doctors:[],doctor:[],value:[],multiple:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:3000/secretary/getProcess").then((function(t){t.data.length>0&&e.setState({procedures:Object(q.a)(t.data.map((function(e){return{key:e._id,text:e.processname,value:e._id}}))),procedure:t.data[0].processname})})),b.a.get("http://localhost:3000/secretary/getDoctors").then((function(t){t.data.length>0&&e.setState({doctors:Object(q.a)(t.data.map((function(e){return{key:e._id,text:"DR. "+e.lastname,value:e._id}}))),doctor:t.data[0].firstname})}))}},{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange,n=e.handleDoctorChange,l=e.handleProcessChange;if(0!=t.doctor.length){var o=[t.doctor];return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Field,{required:!0,id:"firstname-field-secretary"},r.a.createElement("label",null,"First Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.firstname,onChange:a("firstname"),placeholder:"First Name",autoComplete:"false",name:"firstname",id:"processFirstName"}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"lastname-field-secretary"},r.a.createElement("label",null,"Last Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.lastname,onChange:a("lastname"),placeholder:"Last Name",autoComplete:"false",name:"lastname",id:"processLasttName"}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"patientcontact-field-secretary"},r.a.createElement("label",null,"Contact Number"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.lastname,onChange:a("patientcontact"),placeholder:"Contact Number",autoComplete:"false",name:"patientcontact",id:"processPatientContact"}),content:"Contact Number should be valid",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"procedures-field-secretary"},r.a.createElement("label",null,"Procedure/s"),r.a.createElement($.a,{trigger:r.a.createElement(U.a,{error:t.error.procedures,onChange:l,placeholder:"Procedure/s",autoComplete:"false",options:this.state.procedures,selection:!0,fluid:!0,multiple:!0,id:"processDropProc"}),content:"Must have at least 1 procedure",position:"right center"})),r.a.createElement(F.a.TextArea,{required:!0,placeholder:"Notes",onChange:a("notes"),label:"notes",name:"notes",id:"processNotes"}),r.a.createElement(F.a.Field,{required:!0,id:"doctors-field-secretary"},r.a.createElement("label",null,"Doctor/s"),r.a.createElement($.a,{trigger:r.a.createElement(U.a,{error:t.error.doctors,onChange:n,placeholder:"Doctor/s",autoComplete:"false",options:this.state.doctors,selection:!0,fluid:!0,multiple:!0,id:"processDropDoctor",defaultValue:o}),content:"Must have at least 1 doctor",position:"right center"})))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a.Field,{required:!0,id:"firstname-field-secretary"},r.a.createElement("label",null,"First Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.firstname,onChange:a("firstname"),placeholder:"First Name",autoComplete:"false",name:"firstname",id:"processFirstName"}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"lastname-field-secretary"},r.a.createElement("label",null,"Last Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.lastname,onChange:a("lastname"),placeholder:"Last Name",autoComplete:"false",name:"lastname",id:"processLasttName"}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"patientcontact-field-secretary"},r.a.createElement("label",null,"Contact Number"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.lastname,onChange:a("patientcontact"),placeholder:"Contact Number",autoComplete:"false",name:"patientcontact",id:"processPatientContact"}),content:"Contact Number should be valid",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"procedures-field-secretary"},r.a.createElement("label",null,"Procedure/s"),r.a.createElement($.a,{trigger:r.a.createElement(U.a,{error:t.error.procedures,onChange:l,placeholder:"Procedure/s",autoComplete:"false",options:this.state.procedures,selection:!0,fluid:!0,multiple:!0,id:"processDropProc"}),content:"Must have at least 1 procedure",position:"right center"})),r.a.createElement(F.a.TextArea,{required:!0,placeholder:"Notes",onChange:a("notes"),label:"notes",name:"notes",id:"processNotes"}),r.a.createElement(F.a.Field,{required:!0,id:"doctors-field-secretary"},r.a.createElement("label",null,"Doctor/s"),r.a.createElement($.a,{trigger:r.a.createElement(U.a,{error:t.error.doctors,onChange:n,placeholder:"Doctor/s",autoComplete:"false",options:this.state.doctors,selection:!0,fluid:!0,multiple:!0,id:"processDropDoctor"}),content:"Must have at least 1 doctor",position:"right center"})))}}]),a}(n.Component),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange,n=e.handleDate,l=e.setOpen,o=e.nextStep,s=e.prevStep,i=e.handleTime,c=e.handleDoctorChange,d=e.handleProcessChange;switch(this.props.step){case 1:return r.a.createElement("div",null,r.a.createElement("div",{class:"header"},r.a.createElement(V.a.Group,{fluid:!0},r.a.createElement(V.a,{active:!0},r.a.createElement("i",{className:"calendar icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Date"))),r.a.createElement(V.a,null,r.a.createElement("i",{className:"address card icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Appointment"))))),r.a.createElement(B,{nextStep:o,handleChange:a,handleDate:n,values:t,setOpen:l,handleTime:i}));case 2:return r.a.createElement("div",null,r.a.createElement("div",{class:"header"},r.a.createElement(V.a.Group,{fluid:!0},r.a.createElement(V.a,{onClick:s},r.a.createElement("i",{className:"calendar icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Date"))),r.a.createElement(V.a,{active:!0},r.a.createElement("i",{className:"address card icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Appointment"))))),r.a.createElement(G,{prevStep:s,handleChange:a,setOpen:l,handleTime:i,handleDoctorChange:c,handleProcessChange:d,values:t}))}}}]),a}(n.Component),J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleValidation=function(){var e=n.state.firstname.trim(),t=n.state.lastname.trim(),a=n.state.patientcontact.trim(),l=n.state.procedures,o=n.state.date,s=n.state.time,i=n.state.doctors,c=n.state.error,d=!0;if(A()(A()(s,"h:mm A").toDate()).isBefore(A()().toDate())&&A()(o).isSame(A()().toDate(),"day")&&(c.time=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input valid time"),icon:"cancel"}),d=!1),""!==e&&e.match(/^[a-z A-Z]+$/)?e.length<2&&(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Firstname is too short"),icon:"cancel"}),d=!1):(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid firstname"),icon:"cancel"}),d=!1),""!==t&&t.match(/^[a-z A-Z.\-_]+$/)?t.length<2&&(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Lastname is too short"),icon:"cancel"}),d=!1):(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid lastname"),icon:"cancel"}),d=!1),""!==a&&a.match(/^[+-]?\d{7,12}$/)||(c.patientcontact=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid contact number"),icon:"cancel"}),d=!1),(l.length<1||void 0===l)&&(c.procedures=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 procedure"),icon:"cancel"}),d=!1),(i.length<1||void 0===i)&&(c.doctors=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 doctor"),icon:"cancel"}),d=!1),d){var p={dateInput:o.toString(),timeInput:s.toString(),doctors:i};return b.a.post("/secretary/check_app_exists",p,(function(e){!0===e?(c.doctors=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Doctor is already booked on this date and time"),icon:"cancel"}),d=!1):d=!0})),d}},n.handleClose=function(){n.setState({open:!1,step:1}),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Creation cancelled"),icon:"check",animation:"slide up",time:1e3,color:"red"},(function(){return console.log("toast closed")}))}),1e3)},n.handleChange=function(e){return function(t){n.setState(Object(D.a)({},e,t.target.value)),console.log(t.target.value)}},n.handleSubmit=function(e){if(e.preventDefault(),n.handleValidation()){var t={firstname:n.state.firstname,lastname:n.state.lastname,patientcontact:n.state.patientcontact,procedures:n.state.procedures,notes:n.state.notes,date:n.state.date,time:n.state.time,doctors:n.state.doctors};Array.isArray(n.state.procedures[0])&&(t.procedures=n.state.procedures[0]),Array.isArray(n.state.doctors[0])&&(t.doctors=n.state.doctors[0]),b.a.post("http://localhost:3000/secretary/create",t).then((function(e){1==e.data.message?(setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Created"),icon:"check",animation:"slide up",time:1e3,color:"green"})}),1e3),n.setOpen(),n.props.handleWeekAppointmentUpdate(),n.props.handleDayAppointmentUpdate(),n.props.handleWeekAvailable()):Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid Appointment"),icon:"cancel"})}))}},n.handleDoctorChange=function(e,t){var a=t.value;n.setState({doctors:a}),console.log(a)},n.handleProcessChange=function(e,t){var a=t.value;n.setState({procedures:a}),console.log(a)},n.nextStep=function(){var e=n.state.step;n.setState({step:e+1})},n.prevStep=function(){var e=n.state.step;n.setState({step:e-1})},n.handleTime=function(e){n.setState({time:e}),console.log(e)},n.state={firstname:"",lastname:"",patientcontact:"",procedures:[],process:"",notes:"",date:A()().toDate(),time:A()("8:00 AM","h:mm aa").toDate(),doctor:"",doctors:[],open:!1,step:1,error:{firstname:!1,lastname:!1,username:!1,password:!1,patientcontact:!1,time:!1,date:!1,doctors:!1,procedures:!1}},n.setOpen=n.setOpen.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleDate=n.handleDate.bind(Object(p.a)(n)),n.handletime=n.handleDate.bind(Object(p.a)(n)),n.handleDoctorChange=n.handleDoctorChange.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"setOpen",value:function(){this.setState({open:!this.state.open,step:1})}},{key:"handleDate",value:function(e){this.setState({date:e}),console.log(e)}},{key:"render",value:function(){var e,t,a=this.state,n={firstname:a.firstname,lastname:a.lastname,patientcontact:a.patientcontact,process:a.process,notes:a.notes,date:a.date,time:a.time,doctors:a.doctors,doctor:a.doctor,error:a.error};return 1===this.state.step?e=r.a.createElement(I.a,{onClick:this.nextStep,type:"button"},"Next"):(e=r.a.createElement(I.a,{type:"button",color:"green",onClick:this.handleSubmit},"Submit"),t=r.a.createElement(I.a,{onClick:this.prevStep},"Back")),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClose:this.setOpen,onOpen:this.setOpen,open:this.state.open,as:F.a,onSubmit:this.handleSubmit,trigger:r.a.createElement("div",{className:"circular ui pink icon button with tooltip","data-title":"Add (ENTER)","data-content":"Adds an appointment","data-variation":"basic","data-position":"bottom center",id:"add-button"},r.a.createElement("i",{className:"large plus icon"}))},r.a.createElement(g.a.Content,null,r.a.createElement(K,{handleChange:this.handleChange,handleDoctorChange:this.handleDoctorChange,handleProcessChange:this.handleProcessChange,handleDate:this.handleDate,handleTime:this.handleTime,setOpen:this.setOpen,prevStep:this.prevStep,nextStep:this.nextStep,step:this.state.step,values:n})),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{onClick:this.handleClose},"Cancel"),t,e)))}}]),a}(n.Component),X=a(614),Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).hello=function(e){console.log(e),n.setState({today:e})},n.state={today:n.props.date,startOfWeek:n.props.startOfWeek,endOfWeek:n.props.endOfWeek,days:n.props.daysParent,weekUnparsed:n.props.weekUnparsed},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[],a=Date.parse(this.state.today),n=A()(a).format("MMMM D, YYYY");t.push(r.a.createElement(N.a.Cell,null,r.a.createElement(J,null)));for(var l=function(a){e.state.days[a]==n?t.push(r.a.createElement(N.a.Cell,{onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])},style:{backgroundColor:"red"}},e.state.days[a])):t.push(r.a.createElement(N.a.Cell,{onClick:e.props.onChangeDate},e.state.days[a]))},o=0;o<this.state.days.length;o++)l(o);this.setState({days:this.state.days,weekUnparsed:this.state.weekUnparsed})}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.date!==this.state.today){var t=[],a=Date.parse(this.state.today),n=A()(a).format("MMMM D, YYYY");t.push(r.a.createElement(N.a.Cell,null,r.a.createElement(J,null)));for(var l=function(a){e.state.days[a]==n?t.push(r.a.createElement(N.a.Cell,{onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])},style:{backgroundColor:"red"}},e.state.days[a])):t.push(r.a.createElement(N.a.Cell,{onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])}},e.state.days[a]))},o=0;o<this.state.days.length;o++)l(o);this.setState({today:this.props.date,startOfWeek:this.props.startOfWeek,endOfWeek:this.props.endOfWeek,days:this.props.daysParent,weekUnparsed:this.props.weekUnparsed})}}},{key:"render",value:function(){var e=this,t=[],a=Date.parse(this.state.today),n=A()(a).format("MMMM D, YYYY");t.push(r.a.createElement(N.a.Cell,{id:"secretary-add-appointment"},r.a.createElement(J,{handleWeekAppointmentUpdate:this.props.handleWeekAppointmentUpdate,handleDayAppointmentUpdate:this.props.handleDayAppointmentUpdate,handleWeekAvailable:this.props.handleWeekAvailable})));for(var l=function(a){e.state.days[a]==n?t.push(r.a.createElement(N.a.Cell,{id:"sec-header-child",onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])},style:{backgroundColor:"red"}},e.state.days[a])):t.push(r.a.createElement(N.a.Cell,{id:"sec-header-child",onClick:function(){return e.props.onChangeDate(e.state.weekUnparsed[a])}},e.state.days[a]))},o=0;o<this.state.days.length;o++)l(o);return r.a.createElement(N.a,{id:"SECHEADER",celled:!0,textAlign:"center",style:{height:"70px"},compact:!0},r.a.createElement(N.a.Body,null,r.a.createElement(N.a.Row,{children:t})))}}]),a}(n.Component),ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeTime=function(e){n.setState({time:e}),n.props.handleTime(e)},n.continue=function(e){e.preventDefault(),n.props.nextStep()},n.cancel=function(e){e.preventDefault(),n.props.setOpen()},n.state={date:n.props.values.date,time:n.props.values.time},n.onchangeDate=n.onchangeDate.bind(Object(p.a)(n)),n.onChangeTime=n.onChangeTime.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"onchangeDate",value:function(e){this.setState({date:e})}},{key:"render",value:function(){var e=this.props.handleDate;return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(F.a.Input,{required:!0,label:"Date",className:"editProcStep1Date",id:"editProcStep1Date-secretary",control:S.a,selected:this.state.date,onChange:this.onchangeDate,onSelect:e,minDate:this.state.date}),r.a.createElement(F.a.Input,{required:!0,label:"Time",className:"editProcStep1Time",id:"editProcStep1Time-secretary",control:S.a,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.time,timeIntervals:30,dateFormat:"h:mm aa",onChange:this.onChangeTime,minTime:A()().toDate().setHours(9),maxTime:A()().toDate().setHours(18)})))}}]),a}(n.Component),te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={procedures:[],doctors:[],value:[],currentProcs:n.props.values.procedures[0],currentDocs:n.props.values.doctors[0],multiple:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:3000/secretary/getProcess").then((function(t){t.data.length>0&&e.setState({procedures:Object(q.a)(t.data.map((function(e){return{text:e.processname,value:e._id}})))})})),b.a.get("http://localhost:3000/secretary/getDoctors").then((function(t){t.data.length>0&&e.setState({doctors:Object(q.a)(t.data.map((function(e){return{text:"Dr."+e.lastname,value:e._id}})))})}))}},{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange,n=e.handleDoctorChange,l=e.handleProcessChange;return r.a.createElement(F.a,null,r.a.createElement(F.a.Field,{required:!0,id:"firstname-field-secretary"},r.a.createElement("label",null,"First Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.firstname,onChange:a("firstname"),placeholder:"First Name",autoComplete:"false",name:"firstname",id:"processFirstName",value:this.props.values.firstname}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"lastname-field-secretary"},r.a.createElement("label",null,"Last Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.lastname,onChange:a("lastname"),placeholder:"Last Name",autoComplete:"false",name:"lastname",id:"processLasttName",value:this.props.values.lastname}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"patientcontact-field-secretary"},r.a.createElement("label",null,"Contact Number"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:t.error.lastname,onChange:a("patientcontact"),placeholder:"Contact Number",autoComplete:"false",name:"patientcontact",id:"processPatientContact",value:this.props.values.patientcontact}),content:"Contact Number should be valid",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"procedures-field-secretary"},r.a.createElement("label",null,"Procedure/s"),r.a.createElement($.a,{trigger:r.a.createElement(U.a,{error:t.error.procedures,onChange:l,defaultValue:this.state.currentProcs,placeholder:"Procedure/s",autoComplete:"false",options:this.state.procedures,selection:!0,fluid:!0,multiple:!0,id:"processDropProc"}),content:"Must have at least 1 procedure",position:"right center"})),r.a.createElement(F.a.TextArea,{required:!0,placeholder:"Notes",onChange:a("notes"),label:"notes",name:"notes",id:"processNotes",value:this.props.values.notes}),r.a.createElement(F.a.Field,{required:!0,id:"doctors-field-secretary"},r.a.createElement("label",null,"Doctor/s"),r.a.createElement($.a,{trigger:r.a.createElement(U.a,{error:t.error.doctors,onChange:n,placeholder:"Doctor/s",options:this.state.doctors,defaultValue:this.state.currentDocs,selection:!0,fluid:!0,multiple:!0,id:"processDropDoctor"}),content:"Must have at least 1 doctor",position:"right center"})))}}]),a}(n.Component),ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange,n=e.handleDate,l=e.setOpen,o=e.nextStep,s=e.prevStep,i=e.handleTime,c=e.handleDoctorChange,d=e.handleProcessChange;switch(this.props.step){case 1:return r.a.createElement("div",null,r.a.createElement("div",{class:"header"},r.a.createElement(V.a.Group,{fluid:!0},r.a.createElement(V.a,{active:!0},r.a.createElement("i",{className:"calendar icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Date"))),r.a.createElement(V.a,null,r.a.createElement("i",{className:"address card icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Appointment"))))),r.a.createElement(ee,{nextStep:o,handleChange:a,handleDate:n,values:t,setOpen:l,handleTime:i}));case 2:return r.a.createElement("div",null,r.a.createElement("div",{class:"header"},r.a.createElement(V.a.Group,{fluid:!0},r.a.createElement(V.a,{onClick:s},r.a.createElement("i",{className:"calendar icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Date"))),r.a.createElement(V.a,{active:!0},r.a.createElement("i",{className:"address card icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Appointment"))))),r.a.createElement(te,{prevStep:s,handleChange:a,setOpen:l,handleTime:i,handleDoctorChange:c,handleProcessChange:d,values:t}))}}}]),a}(n.Component),ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChangeInEdit=function(){n.setState({procedures:[n.props.appointment.process.map((function(e){return e._id}))],doctors:[n.props.appointment.doctor.map((function(e){return e._id}))],currentProcs:[n.props.appointment.process.map((function(e){return e.processname}))],currentDocs:[n.props.appointment.doctor.map((function(e){return"Dr. "+e.lastname}))],procs:n.props.appointment.process,docs:n.props.appointment.doctor})},n.handleValidation=function(){var e=n.state.firstname.trim(),t=n.state.lastname.trim(),a=n.state.patientcontact.trim(),l=n.state.procedures.filter((function(e){return e})),o=n.state.date,s=n.state.time,i=n.state.doctors.filter((function(e){return e})),c=n.state.error,d=!0;return console.log("Procedures num: "+l.toString()),console.log("Doctors num: "+i.toString()),A()(A()(s,"h:mm A").toDate()).isBefore(A()().toDate())&&A()(o).isSame(A()().toDate(),"day")&&(c.time=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input valid time"),icon:"cancel"}),d=!1),""!==e&&e.match(/^[a-z A-Z]+$/)?e.length<2&&(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Firstname is too short"),icon:"cancel"}),d=!1):(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid firstname"),icon:"cancel"}),d=!1),""!==t&&t.match(/^[a-z A-Z.\-_]+$/)?t.length<2&&(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Lastname is too short"),icon:"cancel"}),d=!1):(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid lastname"),icon:"cancel"}),d=!1),""!==a&&a.match(/^[+-]?\d{7,12}$/)||(c.patientcontact=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid contact number"),icon:"cancel"}),d=!1),(l.length<1||null===l)&&(c.procedures=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 procedure"),icon:"cancel"}),d=!1),(i.length<1||null===i)&&(c.doctors=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 doctor"),icon:"cancel"}),d=!1),d},n.handleClose=function(){n.setState({appointment:n.props.appointment,app_id:n.props.appointment._id,firstname:n.props.appointment.firstname,lastname:n.props.appointment.lastname,procedures:n.props.appointment.process,notes:n.props.appointment.notes,date:A()(n.props.appointment.date).toDate(),doctors:n.props.appointment.doctor,patientcontact:n.props.appointment.patientcontact,time:A()(n.props.appointment.time,"h:mm A").toDate(),currentProcs:[],currentDocs:[],procs:n.props.appointment.process,docs:n.props.appointment.doctor,open:!1,step:1}),n.handleChangeInEdit(),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Creation cancelled"),icon:"check",animation:"slide up",time:1e3,color:"red"},(function(){return console.log("toast closed")}))}),1e3)},n.setOpen2=function(){n.setState({secondopen:!n.state.secondopen})},n.handleChange=function(e){return function(t){n.setState(Object(D.a)({},e,t.target.value)),console.log(t.target.value)}},n.handleSubmit=function(e){e.preventDefault();var t={appointmentID:n.state.app_id,firstname:n.state.firstname,lastname:n.state.lastname,patientcontact:n.state.patientcontact,procedures:n.state.procedures,notes:n.state.notes,date:n.state.date,time:n.state.time,doctors:n.state.doctors};Array.isArray(n.state.procedures[0])&&(t.procedures=n.state.procedures[0]),Array.isArray(n.state.doctors[0])&&(t.doctors=n.state.doctors[0]),b.a.post("http://localhost:3000/secretary/edit",t).then((function(e){console.log(e.data),n.props.handleWeekAppointmentUpdate(),n.props.handleDocWeekAppointmentUpdate()})),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Created"),icon:"check",animation:"slide up",time:1e3,color:"green"},(function(){return console.log("toast closed")}))}),1e3),n.setOpen(),n.setOpen2()},n.deleteAppointment=function(){var e={appointmentID:n.state.app_id};b.a.post("/secretary/delete",e).then((function(e){console.log(e.data),n.props.handleWeekAppointmentUpdate()})),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Deleted"),icon:"check",animation:"slide up",time:1e3,color:"green"},(function(){return console.log("toast closed")}))}),1e3),n.setOpen(),n.setOpen2()},n.handleDoctorChange=function(e,t){var a=t.value;n.setState({doctors:a}),console.log(a)},n.handleProcessChange=function(e,t){var a=t.value;n.setState({procedures:a}),console.log(a)},n.nextStep=function(){var e=n.state.step;n.setState({step:e+1})},n.prevStep=function(){var e=n.state.step;n.setState({step:e-1})},n.handleTime=function(e){n.setState({time:e}),console.log(e)},n.state={appointment:n.props.appointment,app_id:n.props.appointment._id,firstname:n.props.appointment.firstname,lastname:n.props.appointment.lastname,procedures:n.props.appointment.process,notes:n.props.appointment.notes,date:A()(n.props.appointment.date).toDate(),doctors:n.props.appointment.doctor,patientcontact:n.props.appointment.patientcontact,time:A()(n.props.appointment.time,"h:mm A").toDate(),currentProcs:[],currentDocs:[],procs:n.props.appointment.process,docs:n.props.appointment.doctor,error:{firstname:!1,lastname:!1,username:!1,password:!1,patientcontact:!1,time:!1,date:!1,doctors:!1,procedures:!1},open:!1,secondopen:!1,step:1},n.setOpen=n.setOpen.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleDate=n.handleDate.bind(Object(p.a)(n)),n.handletime=n.handleDate.bind(Object(p.a)(n)),n.handleDoctorChange=n.handleDoctorChange.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({procedures:[this.state.procedures.map((function(e){return e._id}))],doctors:[this.state.doctors.map((function(e){return e._id}))],currentProcs:[this.state.procedures.map((function(e){return e.processname}))],currentDocs:[this.state.doctors.map((function(e){return"Dr. "+e.lastname}))],procs:this.props.appointment.process,docs:this.props.appointment.doctor})}},{key:"componentDidUpdate",value:function(){this.state.docs===this.props.appointment.doctor&&this.state.procs===this.props.appointment.process||this.handleChangeInEdit()}},{key:"setOpen",value:function(){A()(this.state.date).isSame(A()().toDate(),"day")&&A()(this.state.time).isBefore(A()().toDate())?(console.log("1"),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Cannot edit past dates"),icon:"clock",animation:"slide up",time:1e3,color:"red"},(function(){return console.log("toast closed")}))}),1e3),this.setState({open:!1})):A()(this.state.date).isBefore(A()().toDate(),"day")?(console.log("2"),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Cannot edit past dates"),icon:"clock",animation:"slide up",time:1e3,color:"red"},(function(){return console.log("toast closed")}))}),1e3),this.setState({open:!1})):this.setState({open:!this.state.open,step:1})}},{key:"handleDate",value:function(e){this.setState({date:e}),console.log(e)}},{key:"render",value:function(){var e,t,a,n=this.state,l={firstname:n.firstname,lastname:n.lastname,patientcontact:n.patientcontact,procedures:n.procedures,notes:n.notes,date:n.date,time:n.time,doctors:n.doctors,error:n.error};if(1===this.state.step?e=r.a.createElement(I.a,{onClick:this.nextStep,type:"button"},"Next"):(e=r.a.createElement(I.a,{type:"button",color:"green",onClick:this.handleSubmit},"Submit"),t=r.a.createElement(I.a,{onClick:this.prevStep},"Back"),a=r.a.createElement(I.a,{onClick:this.setOpen2,color:"red"},r.a.createElement(H.a,{name:"trash"}),"Delete")),this.state.date!==A()().toDate())return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.SemanticToastContainer,{position:"top-center"}),r.a.createElement(g.a,{onClose:this.setOpen,onOpen:this.setOpen,open:this.state.open,as:F.a,trigger:r.a.createElement(_.a,null,r.a.createElement(_.a.Header,{id:this.props.appointment.firstname+"_"+this.props.appointment.lastname},this.props.appointment.firstname+" "+this.props.appointment.lastname))},r.a.createElement(g.a.Content,null,r.a.createElement(ae,{handleChange:this.handleChange,handleDoctorChange:this.handleDoctorChange,handleProcessChange:this.handleProcessChange,handleDate:this.handleDate,handleTime:this.handleTime,setOpen:this.setOpen,prevStep:this.prevStep,nextStep:this.nextStep,step:this.state.step,values:l})),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{onClick:this.handleClose},"Cancel"),t,a,e),r.a.createElement(g.a,{closeIcon:!0,onClose:this.setOpen2,open:this.state.secondopen,size:"small"},r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement("p",null,"Confirm Delete")),r.a.createElement(g.a.Content,null,r.a.createElement("p",null,"  Are you sure you want to delete this appointment?")),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{onClick:this.setOpen2},r.a.createElement(H.a,{name:"cancel"}),"Cancel"),r.a.createElement(I.a,{onClick:this.deleteAppointment,color:"green"},r.a.createElement(H.a,{name:"check"}),"Confirm")))));console.log("I won't let you edit this")}}]),a}(n.Component),re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={appointments:n.props.appointments,weeks:n.props.week},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){this.props.week!=this.state.weeks&&(console.log("Hello"),this.props.handleWeekAppointmentUpdate(),this.setState({weeks:this.props.week}))}},{key:"render",value:function(){var e=this;return console.log("prop: "),console.log(this.props.week),console.log("state: "),console.log(this.state.weeks),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{id:"table-header-title",compact:!0},r.a.createElement(N.a.Header,{fullWidth:!0},r.a.createElement(W.a,{textAlign:"center"},r.a.createElement(N.a.Cell,null,"Weekly Appointments")))),r.a.createElement(N.a,{id:"week_all",celled:!0,fixed:!0,textAlign:"center",compact:!0},r.a.createElement(N.a.Body,null,this.props.appointments.map((function(t,a){var n=t.slot,l=t.weekAppointments;return r.a.createElement(N.a.Row,{key:a,name:"week-all-row-"+a},r.a.createElement(N.a.Cell,{id:"week-all-time-cell"},n),l.map((function(t,a){var n=t.appointments;return r.a.createElement(N.a.Cell,{id:"week-all-table-cell",name:"week-all-td-"+a},n.map((function(t){return r.a.createElement(ne,{id:"secretary-appointment-card-"+t._id,appointment:t,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate,handleDocWeekAppointmentUpdate:e.props.handleDocWeekAppointmentUpdate})})))})))})))))}}]),a}(n.Component),le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleValidation=function(){var e=n.state.firstname.trim(),t=n.state.lastname.trim(),a=n.state.patientcontact.trim(),l=n.state.procedures.filter((function(e){return e})),o=n.state.date,s=n.state.time,i=n.state.doctors.filter((function(e){return e})),c=n.state.error,d=!0;return console.log("Procedures num: "+l.toString()),console.log("Doctors num: "+i.toString()),A()(A()(s,"h:mm A").toDate()).isBefore(A()().toDate())&&A()(o).isSame(A()().toDate(),"day")&&(c.time=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input valid time"),icon:"cancel"}),d=!1),""!==e&&e.match(/^[a-z A-Z]+$/)?e.length<2&&(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Firstname is too short"),icon:"cancel"}),d=!1):(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid firstname"),icon:"cancel"}),d=!1),""!==t&&t.match(/^[a-z A-Z.\-_]+$/)?t.length<2&&(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Lastname is too short"),icon:"cancel"}),d=!1):(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid lastname"),icon:"cancel"}),d=!1),""!==a&&a.match(/^[+-]?\d{7,12}$/)||(c.patientcontact=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid contact number"),icon:"cancel"}),d=!1),(l.length<1||null===l)&&(c.procedures=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 procedure"),icon:"cancel"}),d=!1),(i.length<1||null===i)&&(c.doctors=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 doctor"),icon:"cancel"}),d=!1),d},n.handleChangeInEdit=function(){n.setState({procedures:[n.props.appointment.process.map((function(e){return e._id}))],doctors:[n.props.appointment.doctor.map((function(e){return e._id}))],currentProcs:[n.props.appointment.process.map((function(e){return e.processname}))],currentDocs:[n.props.appointment.doctor.map((function(e){return"Dr. "+e.lastname}))],procs:n.props.appointment.process,docs:n.props.appointment.doctor})},n.handleClose=function(){n.setState({appointment:n.props.appointment,app_id:n.props.appointment._id,firstname:n.props.appointment.firstname,lastname:n.props.appointment.lastname,procedures:n.props.appointment.process,notes:n.props.appointment.notes,date:A()(n.props.appointment.date).toDate(),doctors:n.props.appointment.doctor,patientcontact:n.props.appointment.patientcontact,time:A()(n.props.appointment.time,"h:mm A").toDate(),currentProcs:[],currentDocs:[],procs:n.props.appointment.process,docs:n.props.appointment.doctor,open:!1,step:1}),n.handleChangeInEdit(),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Creation cancelled"),icon:"check",animation:"slide up",time:1e3,color:"red"},(function(){return console.log("toast closed")}))}),1e3)},n.setOpen2=function(){n.setState({secondopen:!n.state.secondopen})},n.handleChange=function(e){return function(t){n.setState(Object(D.a)({},e,t.target.value)),console.log(t.target.value)}},n.handleSubmit=function(e){if(e.preventDefault(),n.handleValidation()){var t={appointmentID:n.state.app_id,firstname:n.state.firstname,lastname:n.state.lastname,patientcontact:n.state.patientcontact,procedures:n.state.procedures,notes:n.state.notes,date:n.state.date,time:n.state.time,doctors:n.state.doctors};Array.isArray(n.state.procedures[0])&&(t.procedures=n.state.procedures[0]),Array.isArray(n.state.doctors[0])&&(t.doctors=n.state.doctors[0]),b.a.post("http://localhost:3000/secretary/edit",t).then((function(e){console.log(e.data),n.props.handleDayAppointmentUpdate(),n.props.handleDayDocAppointmentUpdate()})),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Updated"),icon:"check",animation:"slide up",time:1e3,color:"green"},(function(){return console.log("toast closed")}))}),1e3),n.setOpen()}else Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid Appointment"),icon:"cancel"})},n.deleteAppointment=function(){console.log("Deleting...");var e={appointmentID:n.state.app_id};b.a.post("/secretary/delete",e).then((function(e){console.log(e.data),n.props.handleDayAppointmentUpdate()})),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Deleted"),icon:"check",animation:"slide up",time:1e3,color:"green"},(function(){return console.log("toast closed")}))}),1e3),n.setOpen(),n.setOpen2()},n.handleDoctorChange=function(e,t){var a=t.value;n.setState({doctors:a}),console.log(a)},n.handleProcessChange=function(e,t){var a=t.value;n.setState({procedures:a}),console.log(a)},n.nextStep=function(){var e=n.state.step;n.setState({step:e+1})},n.prevStep=function(){var e=n.state.step;n.setState({step:e-1})},n.handleTime=function(e){n.setState({time:e}),console.log(e)},n.state={appointment:n.props.appointment,app_id:n.props.appointment._id,firstname:n.props.appointment.firstname,lastname:n.props.appointment.lastname,procedures:n.props.appointment.process,notes:n.props.appointment.notes,date:A()(n.props.appointment.date).toDate(),doctors:n.props.appointment.doctor,patientcontact:n.props.appointment.patientcontact,time:A()(n.props.appointment.time,"h:mm A").toDate(),currentProcs:[],currentDocs:[],procs:n.props.appointment.process,docs:n.props.appointment.doctor,error:{firstname:!1,lastname:!1,username:!1,password:!1,patientcontact:!1,time:!1,date:!1,doctors:!1,procedures:!1},open:!1,secondopen:!1,step:1},n.setOpen=n.setOpen.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleDate=n.handleDate.bind(Object(p.a)(n)),n.handletime=n.handleDate.bind(Object(p.a)(n)),n.handleDoctorChange=n.handleDoctorChange.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({docs:this.state.doctors,procs:this.state.procedures,procedures:[this.state.procedures.map((function(e){return e._id}))],doctors:[this.state.doctors.map((function(e){return e._id}))],currentProcs:[this.state.procedures.map((function(e){return e.processname}))],currentDocs:[this.state.doctors.map((function(e){return"Dr. "+e.lastname}))]})}},{key:"componentDidUpdate",value:function(){this.state.procs!==this.props.appointment.process&&this.setState({procedures:[this.props.appointment.process.map((function(e){return e._id}))],doctors:[this.props.appointment.doctor.map((function(e){return e._id}))],currentProcs:[this.props.appointment.process.map((function(e){return e.processname}))],currentDocs:[this.props.appointment.doctor.map((function(e){return"Dr. "+e.lastname}))],procs:this.props.appointment.process,docs:this.props.appointment.doctor})}},{key:"setOpen",value:function(){A()(this.state.date).isSame(A()().toDate(),"day")&&A()(this.state.time).isBefore(A()().toDate())?(console.log("1"),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Cannot edit past dates"),icon:"clock",animation:"slide up",time:1e3,color:"red"},(function(){return console.log("toast closed")}))}),1e3),this.setState({open:!1})):A()(this.state.date).isBefore(A()().toDate(),"day")?(console.log("2"),setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Cannot edit past dates"),icon:"clock",animation:"slide up",time:1e3,color:"red"},(function(){return console.log("toast closed")}))}),1e3),this.setState({open:!1})):this.setState({open:!this.state.open,step:1})}},{key:"handleDate",value:function(e){this.setState({date:e}),console.log(e)}},{key:"render",value:function(){var e,t,a,n=this.state,l=n.firstname,o=n.lastname,s=n.patientcontact,i={firstname:l,lastname:o,patientcontact:s,procedures:n.procedures,notes:n.notes,date:n.date,time:n.time,doctors:n.doctors,error:n.error};return 1===this.state.step?e=r.a.createElement(I.a,{onClick:this.nextStep,type:"button"},"Next"):(e=r.a.createElement(I.a,{type:"button",color:"green",onClick:this.handleSubmit},"Submit"),t=r.a.createElement(I.a,{onClick:this.prevStep},"Back"),a=r.a.createElement(I.a,{onClick:this.setOpen2,color:"red"},r.a.createElement(H.a,{name:"trash"}),"Delete")),r.a.createElement(r.a.Fragment,null,r.a.createElement(C.SemanticToastContainer,{position:"top-center"}),r.a.createElement(g.a,{onClose:this.setOpen,onOpen:this.setOpen,open:this.state.open,as:F.a,trigger:r.a.createElement(_.a,{fluid:!0,id:"secretary-card-day"},r.a.createElement(_.a.Header,null,this.props.appointment.firstname+" "+this.props.appointment.lastname),r.a.createElement(_.a.Content,null,r.a.createElement("span",{className:"secretary-card-day-content"},"\ud83e\uddb7: ",this.state.currentProcs.join(", ")),r.a.createElement("br",null),r.a.createElement("span",{className:"secretary-card-day-content"},"\ud83d\udcf1: ",s),r.a.createElement("br",null),r.a.createElement("span",{className:"secretary-card-day-content"},"\ud83d\udc68\u200d\u2695\ufe0f: ",this.state.currentDocs.join(", "))))},r.a.createElement(g.a.Content,null,r.a.createElement(ae,{handleChange:this.handleChange,handleDoctorChange:this.handleDoctorChange,handleProcessChange:this.handleProcessChange,handleDate:this.handleDate,handleTime:this.handleTime,setOpen:this.setOpen,prevStep:this.prevStep,nextStep:this.nextStep,step:this.state.step,values:i})),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{onClick:this.handleClose},"Cancel"),t,a,e),r.a.createElement(g.a,{closeIcon:!0,onClose:this.setOpen2,open:this.state.secondopen,size:"small"},r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement("p",null,"Confirm Delete")),r.a.createElement(g.a.Content,null,r.a.createElement("p",null,"  Are you sure you want to delete this appointment?")),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{onClick:this.setOpen2},r.a.createElement(H.a,{name:"cancel"}),"Cancel"),r.a.createElement(I.a,{onClick:this.deleteAppointment,color:"green"},r.a.createElement(H.a,{name:"check"}),"Confirm")))))}}]),a}(n.Component),oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={appointments:n.props.appointments,day:n.props.day},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.handleDayAppointmentUpdate(),console.log("Im in secretary-day-all componentDidMount"),this.setState({appointments:this.props.appointments})}},{key:"componentDidUpdate",value:function(){this.props.day!=this.state.day&&(console.log("Date Changed"),this.props.handleDayAppointmentUpdate(),this.setState({day:this.props.day}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{id:"table-header-title",compact:!0},r.a.createElement(N.a.Header,{fullWidth:!0},r.a.createElement(N.a.Row,{textAlign:"center"},r.a.createElement(N.a.Cell,null,"Daily Appointments")))),r.a.createElement(N.a,{id:"week_all",celled:!0,fixed:!0,textAlign:"center",compact:!0},r.a.createElement(N.a.Body,null,this.props.appointments.map((function(t,a){var n=t.slot,l=t.appointments;return r.a.createElement(N.a.Row,{key:a},r.a.createElement(N.a.Cell,{id:"day-all-time-cell"},n),r.a.createElement(N.a.Cell,{Name:"day-all-table-cell"+a,id:"day-all-table-cell"},r.a.createElement("div",{id:"day-all-div"},l.map((function(t){return r.a.createElement(le,{appointment:t,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleDayDocAppointmentUpdate:e.props.handleDayDocAppointmentUpdate})})))))})))))}}]),a}(n.Component),se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).continue=function(e){e.preventDefault(),n.props.nextStep()},n.cancel=function(e){e.preventDefault(),n.props.setOpen()},n.disableSunday=function(e){return 0!==A()(e).day()},n.disableNonMid=function(e){return 30===A()(e).minute()&&0===A()(e).minute()},n.state={date:A()(n.props.values.date).toDate(),time:A()(n.props.values.time,"HH:mm").toDate()},n.onchangeDate=n.onchangeDate.bind(Object(p.a)(n)),n.onchangeTime=n.onchangeTime.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"onchangeDate",value:function(e){this.setState({date:e})}},{key:"onchangeTime",value:function(e){this.setState({time:e}),this.props.handleTime(e)}},{key:"render",value:function(){this.props.handleDate;return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(F.a.Input,{required:!0,label:"Date",className:"addProcStep1Date",control:S.a,id:"secretary-available-datepicker",selected:this.state.date,disabled:!0}),r.a.createElement(F.a.Field,{required:!0,id:"time-field-secretary"},r.a.createElement("label",null,"Time"),r.a.createElement(F.a.Input,{error:this.props.values.error.time,placeholder:"Time",className:"addProcStep1Time",control:S.a,id:"secretary-available-timepicker",showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.time,timeIntervals:30,dateFormat:"h:mm aa",onChange:this.onchangeTime,minTime:A()("8:00 AM","h:mm aa").toDate(),maxTime:A()().toDate().setHours(18),filterDate:this.disableNonMid,disabled:!0}))))}}]),a}(n.Component),ie=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange,n=e.handleDate,l=e.setOpen,o=e.nextStep,s=e.prevStep,i=e.handleTime,c=e.handleDoctorChange,d=e.handleProcessChange;switch(this.props.step){case 1:return r.a.createElement("div",null,r.a.createElement("div",{class:"header"},r.a.createElement(V.a.Group,{fluid:!0},r.a.createElement(V.a,{active:!0},r.a.createElement("i",{className:"calendar icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Date"))),r.a.createElement(V.a,null,r.a.createElement("i",{className:"address card icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Appointment"))))),r.a.createElement(se,{nextStep:o,handleChange:a,handleDate:n,values:t,setOpen:l,handleTime:i}));case 2:return r.a.createElement("div",null,r.a.createElement("div",{class:"header"},r.a.createElement(V.a.Group,{fluid:!0},r.a.createElement(V.a,{onClick:s},r.a.createElement("i",{className:"calendar icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Date"))),r.a.createElement(V.a,{active:!0},r.a.createElement("i",{className:"address card icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},"Appointment"))))),r.a.createElement(G,{prevStep:s,handleChange:a,setOpen:l,handleTime:i,handleDoctorChange:c,handleProcessChange:d,values:t}))}}}]),a}(n.Component),ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleValidation=function(){var e=n.state.firstname.trim(),t=n.state.lastname.trim(),a=n.state.patientcontact.trim(),l=n.state.procedures,o=n.state.date,s=n.state.time,i=n.state.doctors,c=n.state.error,d=!0;if(A()(A()(s,"h:mm A").toDate()).isBefore(A()().toDate())&&A()(o).isSame(A()().toDate(),"day")&&(c.time=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input valid time"),icon:"cancel"}),d=!1),""!==e&&e.match(/^[a-z A-Z]+$/)?e.length<2&&(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Firstname is too short"),icon:"cancel"}),d=!1):(c.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid firstname"),icon:"cancel"}),d=!1),""!==t&&t.match(/^[a-z A-Z.\-_]+$/)?t.length<2&&(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Lastname is too short"),icon:"cancel"}),d=!1):(c.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid lastname"),icon:"cancel"}),d=!1),""!==a&&a.match(/^[+-]?\d{7,12}$/)||(c.patientcontact=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid contact number"),icon:"cancel"}),d=!1),(l.length<1||void 0===l)&&(c.procedures=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 procedure"),icon:"cancel"}),d=!1),(i.length<1||void 0===i)&&(c.doctors=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Must have at least 1 doctor"),icon:"cancel"}),d=!1),d){var p={dateInput:o.toString(),timeInput:s.toString(),doctors:i};return b.a.post("/secretary/check_app_exists",p,(function(e){!0===e?(c.doctors=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Doctor is already booked on this date and time"),icon:"cancel"}),d=!1):d=!0})),d}},n.handleClose=function(){n.setState({open:!1})},n.handleChange=function(e){return function(t){n.setState(Object(D.a)({},e,t.target.value)),console.log(t.target.value)}},n.handleSubmit=function(e){if(e.preventDefault(),n.handleValidation()){var t={firstname:n.state.firstname,lastname:n.state.lastname,patientcontact:n.state.patientcontact,procedures:n.state.procedures,notes:n.state.notes,date:n.state.date,time:n.state.time,doctors:n.state.doctors};Array.isArray(n.state.doctors[0])&&(t.doctors=n.state.doctors[0]),b.a.post("http://localhost:3000/secretary/create",t).then((function(e){1==e.data.message?(setTimeout((function(){Object(C.toast)({description:r.a.createElement("p",null,"Appointment Created"),icon:"check",animation:"slide up",time:1e3,color:"green"})}),1e3),n.handleClose(),n.props.handleWeekAppointmentUpdate(),n.props.handleDayAppointmentUpdate(),n.props.handleWeekAvailable()):Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid Appointment"),icon:"cancel"})}))}},n.handleDoctorChange=function(e,t){var a=t.value;n.setState({doctors:a}),console.log(a)},n.handleProcessChange=function(e,t){var a=t.value;n.setState({procedures:a}),console.log(a)},n.nextStep=function(){var e=n.state.step;n.setState({step:e+1})},n.prevStep=function(){var e=n.state.step;n.setState({step:e-1})},n.handleTime=function(e){n.setState({time:e}),console.log(e)},n.state={firstname:"",lastname:"",patientcontact:"",procedures:[],notes:"",date:A()().toDate(),time:A()("8:00 AM","h:mm aa").toDate(),doctors:[],doctor:"",open:!1,step:1,error:{firstname:!1,lastname:!1,username:!1,password:!1,patientcontact:!1,time:!1,date:!1,doctors:!1,procedures:!1}},n.setOpen=n.setOpen.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleDate=n.handleDate.bind(Object(p.a)(n)),n.handletime=n.handleDate.bind(Object(p.a)(n)),n.handleDoctorChange=n.handleDoctorChange.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"setOpen",value:function(){this.setState({open:!this.state.open,step:1,date:A()(A()(this.props.date).format("MMM DD YYYY")).toDate(),time:A()(this.props.time,"h:mm aa").toDate(),doctor:this.props.doctorID}),console.log(A()(this.props.time,"h:mm aa").toDate())}},{key:"handleDate",value:function(e){this.setState({date:e}),console.log(e)}},{key:"render",value:function(){var e,t,a=this.state,n={firstname:a.firstname,lastname:a.lastname,patientcontact:a.patientcontact,process:a.process,notes:a.notes,date:a.date,time:a.time,doctors:a.doctors,doctor:a.doctor,error:a.error};return 1===this.state.step?e=r.a.createElement(I.a,{onClick:this.nextStep,type:"button"},"Next"):(e=r.a.createElement(I.a,{type:"button",color:"green",onClick:this.handleSubmit},"Submit"),t=r.a.createElement(I.a,{onClick:this.prevStep},"Back")),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClose:this.handleClose,onOpen:this.setOpen,open:this.state.open,as:F.a,trigger:r.a.createElement("div",null,this.props.available)},r.a.createElement(g.a.Content,null,r.a.createElement(ie,{handleChange:this.handleChange,handleDoctorChange:this.handleDoctorChange,handleProcessChange:this.handleProcessChange,handleDate:this.handleDate,handleTime:this.handleTime,setOpen:this.setOpen,prevStep:this.prevStep,nextStep:this.nextStep,step:this.state.step,values:n})),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{onClick:this.handleClose},"Cancel"),t,e)))}}]),a}(n.Component),de=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleShowDimmer=function(){return n.setState({activeDimmer:!0})},n.handleHideDimmer=function(){return n.setState({activeDimmer:!1})},n.state={doctor:[],open:!1,date:"",availSlots:[],activeDimmer:!1,row:[]},n.setOpen=n.setOpen.bind(Object(p.a)(n)),n.setClose=n.setClose.bind(Object(p.a)(n)),n.handleAvailabilityTime=n.handleAvailabilityTime.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"handleAvailabilityTime",value:function(){var e=this;console.log("Getting Availability time per doctor..."),this.handleShowDimmer();var t={date:this.props.appDate,doctorID:this.props.doctorID};b.a.post("http://localhost:3000/secretary/availabilityTime",t).then((function(t){e.setState({availSlots:t.data.data,doctor:t.data.data.doctor,row:t.data.data.row}),console.log("AvailabilityTime Data: "),console.log(t.data.data),e.handleHideDimmer()}))}},{key:"setOpen",value:function(){console.log("calling me"),this.handleAvailabilityTime(),this.setState({open:!0})}},{key:"setClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{closeIcon:!0,onClose:this.setClose,onOpen:this.setOpen,open:this.state.open,trigger:r.a.createElement(N.a.Cell,{id:"secretary-available-table-cell",className:"secretary-available-table-cell"})},r.a.createElement(g.a.Header,{as:"h2",id:"secretary-available-date-modal-header"},r.a.createElement("span",null,"Dr.",this.state.doctor.firstname," ",this.state.doctor.lastname," - ",this.state.availSlots.displayDate)),r.a.createElement(g.a.Content,null,r.a.createElement(X.a,{active:this.state.activeDimmer,inverted:!0,id:"list-dimmer",style:{maxHeight:"100%"}},r.a.createElement("div",{className:"ui elastic huge green loader"})),r.a.createElement(N.a,{id:"secretary-available-modal-table",compact:!0,celled:!0,fixed:!0,textAlign:"center"},r.a.createElement(N.a.Body,null,r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,null)),this.state.row.map((function(t){return"undef"===t.available2?"unavailable"===t.available1?r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,null,t.timeSlot1),r.a.createElement(N.a.Cell,{style:{backgroundColor:"grey"}},t.available1)):"available"===t.available1?r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,null,t.timeSlot1),r.a.createElement(N.a.Cell,{style:{backgroundColor2:"green"}},r.a.createElement(ce,{available:t.available1,setClose:e.setClose,time:t.timeSlot1,doctorID:e.props.doctorID,date:e.state.availSlots.date,handleWeekAvailable:e.props.handleWeekAvailable,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate}))):r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,null,t.timeSlot1),r.a.createElement(N.a.Cell,{style:{backgroundColor:"grey"}},t.available1)):"available"===t.available1&&"available"===t.available2?r.a.createElement(N.a.Row,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a.Cell,null,t.timeSlot1),r.a.createElement(N.a.Cell,{style:{backgroundColor2:"green"}},r.a.createElement(ce,{available:t.available1,setClose:e.setClose,time:t.timeSlot1,doctorID:e.props.doctorID,date:e.state.availSlots.date,handleWeekAvailable:e.props.handleWeekAvailable,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate})),r.a.createElement(N.a.Cell,null,t.timeSlot2),r.a.createElement(N.a.Cell,{style:{backgroundColor2:"green"}},r.a.createElement(ce,{available:t.available2,setClose:e.setClose,time:t.timeSlot2,doctorID:e.props.doctorID,date:e.state.availSlots.date,handleWeekAvailable:e.props.handleWeekAvailable,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate})))):"available"===t.available1&&"unavailable"===t.available2?r.a.createElement(N.a.Row,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a.Cell,null,t.timeSlot1),r.a.createElement(N.a.Cell,{style:{backgroundColor2:"green"}},r.a.createElement(ce,{available:t.available1,setClose:e.setClose,time:t.timeSlot1,doctorID:e.props.doctorID,date:e.state.availSlots.date,handleWeekAvailable:e.props.handleWeekAvailable,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate})),r.a.createElement(N.a.Cell,null,t.timeSlot2),r.a.createElement(N.a.Cell,{style:{backgroundColor:"grey"}},t.available2))):"unavailable"===t.available1&&"available"===t.available2?r.a.createElement(N.a.Row,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a.Cell,null,t.timeSlot1),r.a.createElement(N.a.Cell,{style:{backgroundColor:"grey"}},t.available1),r.a.createElement(N.a.Cell,null,t.timeSlot2),r.a.createElement(N.a.Cell,{style:{backgroundColor2:"green"}},r.a.createElement(ce,{available:t.available2,setClose:e.setClose,time:t.timeSlot2,doctorID:e.props.doctorID,date:e.state.availSlots.date,handleWeekAvailable:e.props.handleWeekAvailable,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate})))):r.a.createElement(N.a.Row,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a.Cell,null,t.timeSlot1),r.a.createElement(N.a.Cell,{style:{backgroundColor:"grey"}},t.available1),r.a.createElement(N.a.Cell,null,t.timeSlot2),r.a.createElement(N.a.Cell,{style:{backgroundColor2:"green"}},t.available2)))})))))))}}]),a}(n.Component),pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={weekAvailable:[],weeks:n.props.week},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.handleWeekAvailable()}},{key:"componentDidUpdate",value:function(){this.props.week!=this.state.weeks&&(console.log("Updating week in Availability..."),this.props.handleWeekAvailable(),this.setState({weeks:this.props.week,weekAvailable:this.props.weekAvailable.doctors}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{id:"week-available",compact:!0,celled:!0,fixed:!0,textAlign:"center"},r.a.createElement(N.a.Body,null,this.props.weekAvailable.doctors.map((function(t,a){var n=t.availability,l=t.firstname,o=t.lastname,s=t._id;return r.a.createElement(N.a.Row,{key:a},r.a.createElement(N.a.Cell,{id:"week-availability-time-cell"},l,", ",o),n.map((function(t){if("unavailable"==t[1]||0==A()(t[0]).days()||"past"==t[1]){return r.a.createElement(N.a.Cell,{id:"secretary-available-table-cell",style:{backgroundColor:"grey"}})}return r.a.createElement(de,{doctorID:s,appDate:t[0],handleShowDimmer:e.props.handleShowDimmer,handleHideDimmer:e.props.handleHideDimmer,handleWeekAvailable:e.props.handleWeekAvailable,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate})})))})))))}}]),a}(n.Component),me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={appointments:n.props.appointments,weeks:n.props.week,doc:n.props.doc},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.handleDocWeekAppointmentUpdate()}},{key:"componentDidUpdate",value:function(){this.props.week!=this.state.weeks?(console.log("Hello"),this.props.handleDocWeekAppointmentUpdate(),this.setState({weeks:this.props.week})):this.props.doc!==this.state.doc&&(this.props.handleDocWeekAppointmentUpdate(),this.setState({doc:this.props.doc}))}},{key:"render",value:function(){var e=this;return console.log("prop: "),console.log(this.props.appointments),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{id:"table-header-title",compact:!0},r.a.createElement(N.a.Header,{fullWidth:!0},r.a.createElement(W.a,{textAlign:"center"},r.a.createElement(N.a.Cell,null,"Weekly Appointments")))),r.a.createElement(N.a,{id:"week_all",celled:!0,fixed:!0,textAlign:"center",compact:!0},r.a.createElement(N.a.Body,null,this.props.appointments.map((function(t,a){var n=t.slot,l=t.weekAppointments;return r.a.createElement(N.a.Row,{key:a,name:"week-all-row-"+a},r.a.createElement(N.a.Cell,{id:"week-all-time-cell"},n),l.map((function(t,a){var n=t.appointments;return r.a.createElement(N.a.Cell,{id:"week-all-table-cell",name:"week-all-td-"+a},n.map((function(t){return r.a.createElement(ne,{id:"secretary-appointment-card-"+t._id,appointment:t,handleWeekAppointmentUpdate:e.props.handleWeekAppointmentUpdate,handleDocWeekAppointmentUpdate:e.props.handleDocWeekAppointmentUpdate})})))})))})))))}}]),a}(n.Component),ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={appointments:n.props.appointments,day:n.props.day,doc:n.props.doc},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.handleDayDocAppointmentUpdate(),console.log("Im in secretary-day-all-doc"),this.setState({appointments:this.props.appointments})}},{key:"componentDidUpdate",value:function(){this.props.day!=this.state.day?(console.log("Date Changed"),this.props.handleDayDocAppointmentUpdate(),this.setState({day:this.props.day})):this.props.doc!==this.state.doc&&(this.props.handleDayDocAppointmentUpdate(),this.setState({doc:this.props.doc}))}},{key:"render",value:function(){var e=this;return console.log("prop: "),console.log(this.props.appointments),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{id:"table-header-title",compact:!0},r.a.createElement(N.a.Header,{fullWidth:!0},r.a.createElement(N.a.Row,{textAlign:"center"},r.a.createElement(N.a.Cell,null,"Daily Appointments")))),r.a.createElement(N.a,{id:"week_all",celled:!0,fixed:!0,textAlign:"center",compact:!0},r.a.createElement(N.a.Body,null,this.props.appointments.map((function(t,a){var n=t.slot,l=t.appointments;return r.a.createElement(N.a.Row,{key:a},r.a.createElement(N.a.Cell,{id:"day-all-time-cell"},n),r.a.createElement(N.a.Cell,{Name:"day-all-table-cell"+a,id:"day-all-table-cell"},r.a.createElement("div",{id:"day-all-div"},l.map((function(t){return r.a.createElement(le,{appointment:t,handleDayAppointmentUpdate:e.props.handleDayAppointmentUpdate,handleDayDocAppointmentUpdate:e.props.handleDayDocAppointmentUpdate})})))))})))))}}]),a}(n.Component),he=(a(337),a(338),a(339),a(340),a(341),a(342),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleShowDimmer=function(){return n.setState({activeDimmer:!0})},n.handleHideDimmer=function(){return n.setState({activeDimmer:!1})},n.onWeek=function(e){for(var t=A()(e).startOf("week"),a=A()(e).endOf("week"),r=[],l=[];t<=a;){l.push(t.toDate());var o=Date.parse(t),s=A()(o).format("MMMM D, YYYY");r.push(s),t=t.clone().add(1,"d")}n.setState({startOfWeek:t,endOfWeek:a,days:r,weekUnparsed:l})},n.onChangeFilter=function(e,t){var a=t.name,r=t.value;console.log("Selecting Filter..."),n.setState(Object(D.a)({},a,r)),console.log(r)},n.onChangeView=function(e,t){var a=t.name,r=t.value;n.setState(Object(D.a)({},a,r)),console.log(r)},n.onToday=function(){console.log("Changing date to today"),n.setState({date:A()().toDate()}),n.onWeek(A()().toDate())},n.onPrev=function(){var e=A()(n.state.date).clone().subtract(1,"day").toDate();console.log("change to: ",e),n.setState({date:e}),n.onWeek(e)},n.onNext=function(){var e=A()(n.state.date).clone().add(1,"day").toDate();console.log("change to: ",e),n.setState({date:e}),n.onWeek(e)};for(var r=A()(A()().toDate()).startOf("week"),l=A()(A()().toDate()).endOf("week"),o=[],s=[];r<=l;){s.push(r.toDate().toString());var i=Date.parse(r),d=A()(i).format("MMMM D, YYYY");o.push(d),r=r.clone().add(1,"d")}return n.onChangeDate=n.onChangeDate.bind(Object(p.a)(n)),n.handleWeekAppointmentUpdate=n.handleWeekAppointmentUpdate.bind(Object(p.a)(n)),n.handleDayAppointmentUpdate=n.handleDayAppointmentUpdate.bind(Object(p.a)(n)),n.handleWeekAvailable=n.handleWeekAvailable.bind(Object(p.a)(n)),n.handleDocWeekAppointmentUpdate=n.handleDocWeekAppointmentUpdate.bind(Object(p.a)(n)),n.handleShowDimmer=n.handleShowDimmer.bind(Object(p.a)(n)),n.handleHideDimmer=n.handleHideDimmer.bind(Object(p.a)(n)),n.handleDayDocAppointmentUpdate=n.handleDayDocAppointmentUpdate.bind(Object(p.a)(n)),n.state={doctors:[],weekAppointments:[],dayAppointments:[],view:"day",filter:"appointments",date:A()().toDate(),startOfWeek:A()(A()().toDate()).startOf("week"),endOfWeek:A()(A()().toDate()).endOf("week"),days:o,weekUnparsed:s,weekAvailable:[],activeDimmer:!1,weekAppointmentsDoc:[],dayAppointmentsDoc:[]},n.handleDayAppointmentUpdate(),n.handleWeekAppointmentUpdate(),n.handleWeekAvailable(),n.handleDocWeekAppointmentUpdate(),n.handleDayDocAppointmentUpdate(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.handleShowDimmer(),b.a.get("http://localhost:3000/secretary/getDoctors").then((function(t){t.data.length>0&&e.setState({doctors:Object(q.a)(t.data.map((function(e){return{key:e._id,text:e.firstname+" "+e.lastname,value:e._id}})))})})),b.a.get("http://localhost:3000/secretary/appointmentlist").then((function(t){e.setState({appointments:t.data})})).catch((function(e){console.log(e)})),this.handleHideDimmer()}},{key:"handleWeekAvailable",value:function(){var e=this;console.log("Updating Availability..."),this.handleShowDimmer();var t={weeks:this.state.weekUnparsed};console.log("Current week"),console.log(this.state.weekUnparsed),b.a.post("http://localhost:3000/secretary/availabilityAll",t).then((function(t){e.setState({weekAvailable:t.data.data}),console.log("WeekAvailable Data: "),console.log(t.data.data),e.handleHideDimmer()}))}},{key:"handleWeekAppointmentUpdate",value:function(){var e=this;this.handleShowDimmer(),console.log("Updating Week-all...");var t={weeks:this.state.weekUnparsed};b.a.post("http://localhost:3000/secretary/week_all",t).then((function(t){e.setState({weekAppointments:t.data.data.data}),console.log("Week-all Data: "),console.log(t.data.data.data),e.handleHideDimmer()}))}},{key:"handleDayAppointmentUpdate",value:function(){var e=this;console.log("DayUpdate"),this.handleShowDimmer();var t={day:this.state.date};b.a.post("http://localhost:3000/secretary/day_all",t).then((function(t){e.setState({dayAppointments:t.data.data.data}),console.log("Day-all Data"),console.log(t.data.data.data),e.handleHideDimmer()}))}},{key:"handleDayDocAppointmentUpdate",value:function(){var e=this;console.log("DayDocUpdate"),this.handleShowDimmer();var t={date:this.state.date,doctor:this.state.filter};b.a.post("http://localhost:3000/secretary/day_one",t).then((function(t){e.setState({dayAppointmentsDoc:t.data.data.data}),console.log("Day-all one doc Data"),console.log(t.data.data.data),e.handleHideDimmer()}))}},{key:"handleDocWeekAppointmentUpdate",value:function(){var e=this;console.log("Week Doctor Update"),this.handleShowDimmer();var t={weeks:this.state.weekUnparsed,doctor:this.state.filter};b.a.post("http://localhost:3000/secretary/week_one",t).then((function(t){e.setState({weekAppointmentsDoc:t.data.data.data}),console.log("Week-all-Doc Data: "),console.log(t.data.data.data),e.handleHideDimmer()}))}},{key:"onChangeDate",value:function(e){console.log("changing date to: ",e),null==e?this.setState({date:A()().toDate()}):(this.onWeek(e),this.setState({date:e}))}},{key:"render",value:function(){var e=[{text:"APPOINTMENTS",key:"appointments",value:"appointments"},{text:"AVAILABILITY",key:"availability",value:"availability"}];this.state.doctors.map((function(t){e.push(t)}));var t;return"week"===this.state.view&&"appointments"===this.state.filter?(console.log("Changing to week Appointment table..."),t=r.a.createElement(re,{week:this.state.weekUnparsed,appointments:this.state.weekAppointments,handleWeekAppointmentUpdate:this.handleWeekAppointmentUpdate,handleDocWeekAppointmentUpdate:this.handleDocWeekAppointmentUpdate,handleShowDimmer:this.handleShowDimmer,handleHideDimmer:this.handleHideDimmer})):"day"===this.state.view&&"appointments"===this.state.filter?t=r.a.createElement(oe,{day:this.state.date,appointments:this.state.dayAppointments,handleDayAppointmentUpdate:this.handleDayAppointmentUpdate,handleDayDocAppointmentUpdate:this.handleDayDocAppointmentUpdate,handleShowDimmer:this.handleShowDimmer,handleHideDimmer:this.handleHideDimmer}):"availability"===this.state.filter?(console.log("Changing to availability table..."),t=r.a.createElement(pe,{week:this.state.weekUnparsed,weekAvailable:this.state.weekAvailable,handleWeekAvailable:this.handleWeekAvailable,handleDayAppointmentUpdate:this.handleDayAppointmentUpdate,handleWeekAppointmentUpdate:this.handleWeekAppointmentUpdate,handleShowDimmer:this.handleShowDimmer,handleHideDimmer:this.handleHideDimmer})):(console.log("Changing to doctor view..."),"appointments"!==this.state.filter&&"availability"!==this.state.filter&&"week"===this.state.view?t=r.a.createElement(me,{week:this.state.weekUnparsed,appointments:this.state.weekAppointmentsDoc,handleDocWeekAppointmentUpdate:this.handleDocWeekAppointmentUpdate,handleWeekAppointmentUpdate:this.handleWeekAppointmentUpdate,handleShowDimmer:this.handleShowDimmer,handleHideDimmer:this.handleHideDimmer,doc:this.state.filter}):"appointments"!==this.state.filter&&"availability"!==this.state.filter&&"day"===this.state.view&&(t=r.a.createElement(ue,{day:this.state.date,appointments:this.state.dayAppointmentsDoc,handleDayDocAppointmentUpdate:this.handleDayDocAppointmentUpdate,handleDayAppointmentUpdate:this.handleDayAppointmentUpdate,handleShowDimmer:this.handleShowDimmer,handleHideDimmer:this.handleHideDimmer,doc:this.state.filter}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{active:this.state.activeDimmer,inverted:!0,id:"list-dimmer",style:{maxHeight:"100%"}},r.a.createElement("div",{className:"ui elastic huge green loader"})),r.a.createElement(C.SemanticToastContainer,{position:"top-center"}),r.a.createElement(T.a,{id:"secretary_header_container",content:r.a.createElement(L,{id:"secretary_navbar",onChangeDate:this.onChangeDate,onPrev:this.onPrev,onNext:this.onNext,onToday:this.onToday,onChangeView:this.onChangeView,date:this.state.date,filter:this.state.filter,filters:e,viewer:[{text:"DAY",key:"day",value:"day"},{text:"WEEK",key:"week",value:"week"}],doctors:this.state.doctors,onChangeFilter:this.onChangeFilter}),style:{height:"65px"}}),r.a.createElement(Q,{id:"secretary_dateHeader",date:this.state.date,onChangeDate:this.onChangeDate,startOfWeek:this.state.startOfWeek,endOfWeek:this.state.endOfWeek,daysParent:this.state.days,weekUnparsed:this.state.weekUnparsed,weekLength:this.state.days.length,handleWeekAppointmentUpdate:this.handleWeekAppointmentUpdate,handleDayAppointmentUpdate:this.handleDayAppointmentUpdate,handleWeekAvailable:this.handleWeekAvailable}),r.a.createElement("div",{style:{height:"840px",margin:"0px",overflowY:"auto"}},t))}}]),a}(n.Component)),fe=a(149);var Ee=function(){return r.a.createElement(fe.a,{centered:!0,size:"massive",id:"image",src:"img/Access Dental Clinic Trans.png"})},ve=a(350),ye=a(255),be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"handleItemClick",value:function(e){this.props.handleItem(e),"Logout"===e&&b.a.get("/logout").then(window.location.href="/")}},{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"handleTable",value:function(e){this.props.handleTable(e)}},{key:"render",value:function(){var e=this,t=this.props.activeItem,a={padding:0},n={margin:0,fontWeight:"bold",padding:"13px 16px 13px 16px"},l={marginRight:"13.5px"};return r.a.createElement(ve.a,{secondary:!0,vertical:!0,style:{width:"15%",height:"100%",border:"0px none",padding:"0px",backgroundColor:"#f5f5f5",boxShadow:"2px 2px 2px 2px #f1f1f1",margin:0}},r.a.createElement(ve.a.Item,{style:a,horizontalalign:"middle"},r.a.createElement(Ee,null)),r.a.createElement(ye.a,{basic:!0,textAlign:"center",style:a},r.a.createElement(I.a,{circular:!0,color:"pink",id:"create",onClick:function(){return e.handleModal("admin-create")}},"CREATE")),r.a.createElement(ve.a.Item,{active:"Dentist"===t,onClick:function(){e.handleItemClick("Dentist"),e.handleTable("Dentist")},id:"dentistButton",style:n},r.a.createElement("div",{className:"ui left"},r.a.createElement(H.a,{name:"user md",size:"large",style:l}),"Dentist")),r.a.createElement(ve.a.Item,{active:"Procedure"===t,onClick:function(){e.handleItemClick("Procedure"),e.handleTable("Procedure")},id:"procedureButton",style:n},r.a.createElement("div",{className:"ui left"},r.a.createElement(H.a,{name:"clipboard",size:"large",style:l}),"Procedure")),r.a.createElement(ve.a.Item,{active:"Export Data"===t,onClick:function(){return e.handleItemClick("Export Data")},id:"downloadFile",style:n},r.a.createElement("div",{className:"ui left"},r.a.createElement(H.a,{name:"download",size:"large",style:l}),"Export Data")),r.a.createElement(ve.a.Item,{active:"Reset Admin"===t,onClick:function(){return e.handleModal("admin-reset-password")},id:"resetAdmin",style:n},r.a.createElement("div",{className:"ui left",id:"reset-password"},r.a.createElement(H.a,{name:"lock",size:"large",style:l}),"Reset Admin")),r.a.createElement(ve.a.Item,{active:"Reset Secretary"===t,onClick:function(){return e.handleModal("admin-reset-secretary")},id:"resetSecretary",style:n},r.a.createElement("div",{className:"ui left",id:"reset-secretary"},r.a.createElement(H.a.Group,{style:l},r.a.createElement(H.a,{name:"user",size:"large"}),r.a.createElement(H.a,{corner:!0,name:"lock"})),"Reset Secretary")),r.a.createElement(ve.a.Item,{active:"Free-Up Memory"===t,onClick:function(){return e.handleModal("admin-free-memory")},id:"procedureButton",style:n},r.a.createElement("div",{className:"ui left"},r.a.createElement(H.a,{name:"recycle",size:"large",style:l}),"Free-up Memory")),r.a.createElement(ve.a.Item,{active:"Logout"===t,onClick:function(){return e.handleItemClick("Logout")},id:"logoutButton",style:n},r.a.createElement("div",{className:"ui left"},r.a.createElement(H.a,{name:"sign out",size:"large",style:l}),"Logout")))}}]),a}(r.a.Component),ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleShowDimmer=function(){return n.props.handleShowDimmer()},n.handleHideDimmer=function(){return n.props.handleHideDimmer()},n.handleUpdateTable=function(){return n.props.handleUpdateTable()},n.handleStatus=function(e,t){var a,r=t.datakey;a="Active"===t.status?{doctorID:r,status:"Inactive"}:{doctorID:r,status:"Active"},b.a.post("admin/updateDentistStatus",a).then((function(e){n.handleUpdateTable()}))},n.state={dentists:[]},n}return Object(d.a)(a,[{key:"handleModal",value:function(e,t){this.props.handleModal(e,t)}},{key:"render",value:function(){var e=this,t=this.props.dentists;return r.a.createElement(N.a,{sortable:!0,singleLine:!0,selectable:!0,id:"table"},r.a.createElement(N.a.Header,null,r.a.createElement(N.a.Row,null,r.a.createElement(N.a.HeaderCell,null,"First Name"),r.a.createElement(N.a.HeaderCell,null,"Last Name"),r.a.createElement(N.a.HeaderCell,null,"Last Login"),r.a.createElement(N.a.HeaderCell,{textAlign:"center"},"Status"),r.a.createElement(N.a.HeaderCell,{textAlign:"center"},"Schedule"),r.a.createElement(N.a.HeaderCell,{textAlign:"right"}))),r.a.createElement(N.a.Body,null,t.map((function(t){var a=t.key,n=t.firstname,l=t.lastname,o=t.status,s=t.lastLogin;t.username;return r.a.createElement(N.a.Row,{key:a},r.a.createElement(N.a.Cell,null,n),r.a.createElement(N.a.Cell,null,l),r.a.createElement(N.a.Cell,null,s),r.a.createElement(N.a.Cell,{textAlign:"center"},"Active"===o&&r.a.createElement(I.a,{color:"green",datakey:a,status:o,onClick:e.handleStatus,id:n.toString()+"-"+l.toString()+"-active"},"Active"),"Inactive"===o&&r.a.createElement(I.a,{datakey:a,status:o,onClick:e.handleStatus,id:n.toString()+"-"+l.toString()+"-active"},"Inactive")),r.a.createElement(N.a.Cell,{textAlign:"center"},r.a.createElement(I.a,{color:"green",id:n.toString()+"-"+l.toString()+"-view",onClick:function(){e.props.handleUpdateScheduleTable(a),e.props.handleUpdateUnavailableTable(a),e.handleModal("admin-view-schedule",{key:a,firstname:n,lastname:l})}},"View")),r.a.createElement(N.a.Cell,{textAlign:"right"},r.a.createElement(H.a,{name:"edit",id:n.toString()+"-"+l.toString()+"-edit",size:"large",onClick:function(){e.props.handleUpdateModalUsername(a),e.handleModal("admin-edit-dentist",{key:a,firstname:n,lastname:l})}}),r.a.createElement(H.a,{name:"trash",id:n.toString()+"-"+l.toString()+"-delete",size:"large",onClick:function(){return e.handleModal("admin-delete-dentist",{key:a,firstname:n,lastname:l})}})))}))))}}]),a}(r.a.Component),Ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleShowDimmer=function(){return n.props.handleShowDimmer()},n.handleHideDimmer=function(){return n.props.handleHideDimmer()},n.state={procedures:[]},n}return Object(d.a)(a,[{key:"handleModal",value:function(e,t){this.props.handleModal(e,t)}},{key:"render",value:function(){var e=this,t=this.props.procedures;return r.a.createElement(N.a,{sortable:!0,singleLine:!0,selectable:!0,id:"table"},r.a.createElement(N.a.Header,null,r.a.createElement(N.a.Row,null,r.a.createElement(N.a.HeaderCell,null,"Name"),r.a.createElement(N.a.HeaderCell,{textAlign:"center"}))),r.a.createElement(N.a.Body,null,t.map((function(t){var a=t.key,n=t.processname;return r.a.createElement(N.a.Row,{key:a},r.a.createElement(N.a.Cell,null,n),r.a.createElement(N.a.Cell,{textAlign:"right"},r.a.createElement(I.a,{id:n.toString()+"-edit",onClick:function(){return e.handleModal("admin-edit-procedure",{key:a,processname:n})}},"Edit"),r.a.createElement(I.a,{negative:!0,id:n.toString()+"-delete",onClick:function(){return e.handleModal("admin-delete-procedure",{key:a,processname:n})}},"Delete")))}))))}}]),a}(r.a.Component),we=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.activeTable,n=t.dentists,l=t.procedures;return"Dentist"===a?e=r.a.createElement(ge,{handleHideDimmer:this.handleHideDimmer,handleShowDimmer:this.handleShowDimmer,handleModal:this.props.handleModal,dentists:n,handleUpdateTable:this.props.handleUpdateDentistTable,handleUpdateScheduleTable:this.props.handleUpdateScheduleTable,handleUpdateUnavailableTable:this.props.handleUpdateUnavailableTable,handleUpdateModalUsername:this.props.handleUpdateModalUsername}):"Procedure"===a&&(e=r.a.createElement(Ce,{handleHideDimmer:this.handleHideDimmer,handleShowDimmer:this.handleShowDimmer,handleModal:this.props.handleModal,procedures:l,handleUpdateTable:this.props.handleUpdateProcedureTable})),r.a.createElement(r.a.Fragment,null,e)}}]),a}(r.a.Component),ke=a(361),De=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleOpen=function(){return e.props.handleModal("admin-create")},e.handleClose=function(){return e.props.handleModal("none")},e}return Object(d.a)(a,[{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"render",value:function(){var e,t=this;e="admin-create"===this.props.activeModal;var a={textAlign:"center"},n={padding:"0 0 14px 0"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"tiny",id:"create-modal",onClose:function(){return t.handleClose()},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-create-modal"}),r.a.createElement(g.a.Header,{className:"center-header",as:"h2"},"What would you like to create?"),r.a.createElement(g.a.Actions,null,r.a.createElement(ke.a,{centered:!0,columns:2},r.a.createElement(ke.a.Column,{style:a},r.a.createElement(I.a,{id:"add-dentist-button",onClick:function(){return t.handleModal("admin-add-dentist")}},r.a.createElement(ye.a,{basic:!0,style:n},r.a.createElement(H.a,{name:"user md",size:"large"})),"New Dentist")),r.a.createElement(ke.a.Column,{style:a},r.a.createElement(I.a,{id:"add-procedure-button",onClick:function(){return t.handleModal("admin-add-procedure")}},r.a.createElement(ye.a,{basic:!0,style:n},r.a.createElement(H.a,{name:"clipboard",size:"large"})),"New Procedure"))))))}}]),a}(r.a.Component),Oe=a(659),Se=a(261),je=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e,t){var a=t.datakey,l=t.firstname,o=t.lastname;if(e.preventDefault(),n.handleValidation()){var s,i,c=n.state.days,d={mon:[],tue:[],wed:[],thu:[],fri:[],sat:[]},p={mon:[],tue:[],wed:[],thu:[],fri:[],sat:[]},m=A()(n.state.start).format("k:mm"),u=A()(n.state.end).format("k:mm");for(var h in null!=n.state.start_add&&(s=A()(n.state.start_add).format("k:mm")),null!=n.state.end_add&&(i=A()(n.state.end_add).format("k:mm")),c)n.state.daily&&n.state.custom?(d[h].push(m),d[h].push(i),p[h].push(u),p[h].push(s)):n.state.daily?(d[h].push(m),d[h].push(u)):n.state.repeat&&c[h]&&(n.state.custom?(d[h].push(m),d[h].push(i),p[h].push(u),p[h].push(s)):(d[h].push(m),d[h].push(u)));var f={"monday[]":d.mon,"tuesday[]":d.tue,"wednesday[]":d.wed,"thursday[]":d.thu,"friday[]":d.fri,"saturday[]":d.sat,"mondaydifference[]":p.mon,"tuesdaydifference[]":p.tue,"wednesdaydifference[]":p.wed,"thursdaydifference[]":p.thu,"fridaydifference[]":p.fri,"saturdaydifference[]":p.sat,doctorID:a,defaultTime:"false"};b.a.post("admin/addSchedule",f).then((function(e){e.data&&(setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Dentist schedule successfully added"),icon:"check"})}),1e3),n.handleClose(a,l,o))}))}},n.handleOpen=function(){return n.props.handleModal("admin-create-schedule")},n.handleChange=function(e,t){var a=t.name,r=t.value;return n.setState(Object(D.a)({},a,r))},n.handleRepeat=function(){var e=n.state.disabled;e.daily=!n.state.disabled.daily,n.setState((function(t){return{repeat:!t.repeat,disabled:e}}))},n.handleDaily=function(){var e=n.state.disabled;e.repeat=!n.state.disabled.repeat,n.setState((function(t){return{daily:!t.daily,disabled:e}}))},n.handleCustom=function(){n.setState((function(e){return{custom:!e.custom}}))},n.handleDays=function(e,t){var a=t.name,r=n.state.days,l=!0;e.target.classList.contains("active")&&(l=!1),r[a]=l,n.setState({days:r})},n.state={start:null,end:null,start_add:null,end_add:null,daily:!1,repeat:!1,custom:!1,days:{mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1},disabled:[],error:{start:!1,end:!1,start_add:!1,end_add:!1}},n}return Object(d.a)(a,[{key:"resetState",value:function(){this.setState({start:null,end:null,start_add:null,end_add:null,daily:!1,repeat:!1,custom:!1,days:{mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1},disabled:[],error:{start:!1,end:!1,start_add:!1,end_add:!1}})}},{key:"handleValidation",value:function(){var e=this.state,t=e.daily,a=e.custom,n=e.repeat,l=e.days,o=e.start,s=e.end,i=e.start_add,c=e.end_add,d=!0,p={start:!1,end:!1,start_add:!1,end_add:!1},m=!1,u=!1,h=!1,f=!1;if(t||n||(Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please choose an occurence"),icon:"cancel"}),d=!1),null===o?(p.start=!0,m=!0,d=!1):30!=o.getMinutes()&&0!=o.getMinutes()&&(p.start=!0,f=!0,d=!1),null===s?(p.end=!0,m=!0,d=!1):30!=s.getMinutes()&&0!=s.getMinutes()&&(p.end=!0,f=!0,d=!1),null!=o&&null!=s&&o===s?(p.start=!0,p.end=!0,u=!0,d=!1):null==o||null==s||o<s||(p.start=!0,p.end=!0,h=!0,d=!1),a&&(null===i?(p.start_add=!0,m=!0,d=!1):30!=i.getMinutes()&&0!=i.getMinutes()&&(p.start_add=!0,f=!0,d=!1),null===c?(p.end_add=!0,m=!0,d=!1):30!=c.getMinutes()&&0!=c.getMinutes()&&(p.end_add=!0,f=!0,d=!1),null==i||null==c||i!==c&&s!==i?null==i||null==c||i<c&&s<i||(p.start=!0,p.end=!0,p.start_add=!0,p.end_add=!0,h=!0,d=!1):(p.start_add=!0,p.end_add=!0,u=!0,d=!1)),n){var E=!1;for(var v in l)l[v]&&(E=!0);E||(Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please choose a specific day of recurrence"),icon:"cancel"}),d=!1)}return m&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid time"),icon:"cancel"}),u&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Time interval is too short"),icon:"cancel"}),h&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid time interval"),icon:"cancel"}),f&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid time"),icon:"cancel"}),this.setState({error:p}),d}},{key:"handleClose",value:function(e,t,a){this.props.handleModal("admin-view-schedule",{key:e,firstname:t,lastname:a}),this.props.handleUpdateScheduleTable(e),this.resetState()}},{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"handleStartAdd",value:function(e){this.setState({start_add:e})}},{key:"handleEndAdd",value:function(e){this.setState({end_add:e})}},{key:"handleStart",value:function(e){this.setState({start:e})}},{key:"handleEnd",value:function(e){this.setState({end:e})}},{key:"render",value:function(){var e,t=this;e="admin-create-schedule"===this.props.activeModal;var a,n,l,o,s,i={margin:"20px 0 0 0"},c={fontWeight:"bold",color:"white"},d=new Date,p=new Date;return d.setHours(8),d.setMinutes(0),p.setHours(18),p.setMinutes(0),this.state.custom&&(a=r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{centered:!0,columns:3},r.a.createElement(ke.a.Row,{style:{padding:"0"}},r.a.createElement("span",{style:{fontWeight:"bold"},id:"second-schedule"},"Second Session")),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"Start Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.start_add,timeIntervals:30,dateFormat:"H:mm",minTime:d,maxTime:p,onChange:function(e){return t.handleStartAdd(e)},id:"start-add",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"Start Time",autoComplete:"false",name:"start-add",required:!0,error:this.state.error.start_add})})),r.a.createElement(ye.a,{basic:!0,style:{margin:"6px 0 0 0",fontWeight:"bold"}},"to"),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"End Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.end_add,timeIntervals:30,dateFormat:"H:mm",minTime:d,maxTime:p,onChange:function(e){return t.handleEndAdd(e)},id:"end-add",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"End Time",autoComplete:"false",name:"end-add",required:!0,error:this.state.error.end_add})})))),c={fontWeight:"bold"}),this.state.repeat&&(n=r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{centered:!0,columns:1,style:{fontWeight:"bold",padding:"0 0 10px 0"}},"Repeat on"),r.a.createElement(ke.a,{centered:!0,columns:6},r.a.createElement(I.a,{circular:!0,toggle:!0,active:this.state.days.mon,name:"mon",id:"mon",onClick:this.handleDays},"M"),r.a.createElement(I.a,{circular:!0,toggle:!0,active:this.state.days.tue,name:"tue",id:"tue",onClick:this.handleDays},"T"),r.a.createElement(I.a,{circular:!0,toggle:!0,active:this.state.days.wed,name:"wed",id:"wed",onClick:this.handleDays},"W"),r.a.createElement(I.a,{circular:!0,toggle:!0,active:this.state.days.thu,name:"thu",id:"thu",onClick:this.handleDays},"H"),r.a.createElement(I.a,{circular:!0,toggle:!0,active:this.state.days.fri,name:"fri",id:"fri",onClick:this.handleDays},"F"),r.a.createElement(I.a,{circular:!0,toggle:!0,active:this.state.days.sat,name:"sat",id:"sat",onClick:this.handleDays},"S")))),null!=this.props.data&&null!=this.props.data.firstname&&null!=this.props.data.lastname&&(s=this.props.data.key,l=this.props.data.firstname,o=this.props.data.lastname),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"small",id:"adding-schedule-modal",onClose:function(){return t.handleClose(s,l,o)},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:function(){return t.handleClose(s,l,o)},id:"close-adding-schedule-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"calendar"}),"Set Schedule"),r.a.createElement(g.a.Content,null,r.a.createElement(ke.a,{centered:!0,columns:1},r.a.createElement(ke.a.Column,{style:{textAlign:"center"}},r.a.createElement(ke.a.Row,null,r.a.createElement(H.a,{size:"huge",name:"user md"})),r.a.createElement(ke.a.Row,null,r.a.createElement("span",{id:"doctor-name",style:{fontWeight:"bold",fontSize:"25px"}},l," ",o)))),r.a.createElement(Oe.a,{horizontal:!0}," Customize Your Schedule"),r.a.createElement(ke.a,{centered:!0,columns:2},r.a.createElement(Se.a,{disabled:this.state.disabled.daily,style:i,label:function(e){return r.a.createElement("label",{id:"daily",htmlFor:"daily",checked:e},"Repeat Daily")},name:"daily",onChange:this.handleDaily,checked:this.state.daily}),r.a.createElement(Se.a,{disabled:this.state.disabled.repeat,style:i,label:function(e){return r.a.createElement("label",{id:"repeat",htmlFor:"repeat",checked:e},"Customized Recurrence")},name:"repeat",onChange:this.handleRepeat,checked:this.state.repeat})),r.a.createElement(ke.a,{centered:!0,columns:1},r.a.createElement(Se.a,{style:i,label:function(e){return r.a.createElement("label",{id:"custom",htmlFor:"custom",checked:e},"Customized Working Hours")},name:"custom",onChange:this.handleCustom,checked:this.state.custom})),r.a.createElement(ke.a,{centered:!0,columns:1},r.a.createElement(ke.a.Column,{style:{textAlign:"center",margin:"15px 0 0 0"}},r.a.createElement(ke.a.Row,null,r.a.createElement(T.a,{as:"h3"},"Working Hours")))),r.a.createElement(ke.a,{centered:!0,columns:3},r.a.createElement(ke.a.Row,{style:{padding:"0"}},r.a.createElement("span",{style:c,id:"first-schedule"},"First Session")),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"Start Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.start,timeIntervals:30,dateFormat:"H:mm",minTime:d,maxTime:p,onChange:function(e){return t.handleStart(e)},id:"start",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"Start Time",autoComplete:"false",name:"start",required:!0,error:this.state.error.start})})),r.a.createElement(ye.a,{basic:!0,style:{margin:"6px 0 0 0",fontWeight:"bold"}},"to"),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"End Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.end,timeIntervals:30,dateFormat:"H:mm",minTime:d,maxTime:p,onChange:function(e){return t.handleEnd(e)},id:"end",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"End Time",autoComplete:"false",name:"end",required:!0,error:this.state.error.end})}))),a,n),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"add-schedule-button",onClick:this.handleSubmit,datakey:s,firstname:l,lastname:o},r.a.createElement(H.a,{name:"check"}),"FINISH"))))}}]),a}(r.a.Component),Ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={firstname:"",lastname:"",username:"",password:"",confirmPassword:"",error:{firstname:!1,lastname:!1,username:!1,password:!1,confirmPassword:!1}},e.handleOpen=function(){return e.props.handleModal("admin-add-dentist")},e.handleClose=function(){e.resetState(),e.props.handleModal("none")},e.handleChange=function(t,a){var n=a.name,r=a.value;return e.setState(Object(D.a)({},n,r))},e.handleUpdateTable=function(){return e.props.handleUpdateTable()},e.handleSubmit=function(t){if(t.preventDefault(),e.handleValidation()){var a=e.state.firstname.trim(),n=e.state.lastname.trim(),l={firstname:e.state.firstname.trim(),lastname:e.state.lastname.trim(),username:e.state.username.trim(),password:e.state.password.trim(),type:"dentist",status:"Active"};b.a.post("admin/addDentist",l).then((function(t){!0===t.data.message?(setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"New dentist successfully added"),icon:"check"})}),1e3),e.props.handleModal("admin-create-schedule",{key:t.data.doctor._id,firstname:a,lastname:n}),e.resetState(),e.handleUpdateTable()):Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Username already exists"),icon:"cancel"})}))}},e}return Object(d.a)(a,[{key:"resetState",value:function(){this.setState({firstname:"",lastname:"",username:"",password:"",confirmPassword:"",error:{firstname:!1,lastname:!1,username:!1,password:!1,confirmPassword:!1}})}},{key:"handleValidation",value:function(){var e=/^[a-z A-Z]+$/,t=/^[a-z A-Z.\-_]+$/,a=this.state.firstname.trim(),n=this.state.lastname.trim(),l=this.state.username.trim(),o=this.state.password.trim(),s=this.state.confirmPassword.trim(),i={firstname:!1,lastname:!1,username:!1,password:!1,confirmPassword:!1},c=!0;return""!==a&&a.match(e)?a.length<2?(i.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Firstname is too short"),icon:"cancel"}),c=!1):a.match(e)||(i.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid firstname format"),icon:"cancel"}),c=!1):(i.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid firstname"),icon:"cancel"}),c=!1),""!==n&&n.match(t)?n.length<2?(i.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Lastname is too short"),icon:"cancel"}),c=!1):n.match(t)||(i.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid lastname format"),icon:"cancel"}),c=!1):(i.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid lastname"),icon:"cancel"}),c=!1),""===o?(i.password=!0,i.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid password"),icon:"cancel"}),c=!1):o!==s?(i.password=!0,i.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Passwords do not match"),icon:"cancel"}),c=!1):o.match(/^[0-9a-zA-Z]+$/)?o.length<10?(i.password=!0,i.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too short"),icon:"cancel"}),c=!1):o.length>32&&(i.password=!0,i.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too long"),icon:"cancel"}),c=!1):(i.password=!0,i.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect password format"),icon:"cancel"}),c=!1),""===l?(i.username=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid username"),icon:"cancel"}),c=!1):l.length<6?(i.username=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Username is too short"),icon:"cancel"}),c=!1):l.length>32?(i.username=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Username is too long"),icon:"cancel"}),c=!1):l.match(/^[0-9a-zA-Z]+$/)||(i.username=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect username format"),icon:"cancel"}),c=!1),this.setState({error:i}),c}},{key:"render",value:function(){var e,t=this;return e="admin-add-dentist"===this.props.activeModal,r.a.createElement(g.a,{size:"mini",id:"add-dentist-modal",onClose:function(){return t.handleClose()},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-add-dentist-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"user md"}),"New Dentist"),r.a.createElement(g.a.Content,null,r.a.createElement(F.a,{onSubmit:this.handleSubmit},r.a.createElement(F.a.Field,{required:!0,id:"firstname-field-dentist"},r.a.createElement("label",null,"First Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.firstname,name:"firstname",id:"add-firstname-dentist",autoComplete:"false",placeholder:"First Name",onChange:this.handleChange}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"lastname-field-dentist"},r.a.createElement("label",null,"Last Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.lastname,name:"lastname",id:"add-lastname-dentist",autoComplete:"false",placeholder:"Last Name",onChange:this.handleChange}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"username-field-dentist"},r.a.createElement("label",null,"Username"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.username,name:"username",id:"add-username-dentist",autoComplete:"false",placeholder:"Username",onChange:this.handleChange}),content:"You will not be able to change your username once created",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"password-field-dentist"},r.a.createElement("label",null,"Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.password,name:"password",type:"password",id:"add-password-dentist",autoComplete:"false",placeholder:"Password",onChange:this.handleChange}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"confirm-password-field-dentist"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.confirmPassword,name:"confirmPassword",type:"password",id:"confirm-password-dentist",autoComplete:"false",placeholder:"Password",onChange:this.handleChange}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"create-dentist-button",onClick:this.handleSubmit},r.a.createElement(H.a,{name:"check"}),"CREATE")))}}]),a}(r.a.Component),Pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={procedure:"",error:{procedure:!1}},e.handleOpen=function(){return e.props.handleModal("admin-add-procedure")},e.handleClose=function(){e.resetState(),e.props.handleModal("none")},e.handleChange=function(t,a){var n=a.name,r=a.value;return e.setState(Object(D.a)({},n,r))},e.handleUpdateTable=function(){return e.props.handleUpdateTable()},e.handleSubmit=function(t){if(t.preventDefault(),e.handleValidation()){var a={name:e.state.procedure.trim()};b.a.post("admin/addProcess",a).then((function(t){!0===t.data.message?(e.handleClose(),e.resetState(),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"New procedure successfully added"),icon:"check"})}),1e3),e.handleUpdateTable()):Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Procedure already exists"),icon:"cancel"})}))}},e}return Object(d.a)(a,[{key:"resetState",value:function(){this.setState({procedure:"",error:{procedure:!1}})}},{key:"handleValidation",value:function(){var e=this.state.procedure.trim(),t={procedure:!1},a=!0;return""!==e&&e.match(/^[a-z A-Z]+$/)||(t.procedure=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid procedure name"),icon:"cancel"}),a=!1),this.setState({error:t}),a}},{key:"render",value:function(){var e,t=this;return e="admin-add-procedure"===this.props.activeModal,r.a.createElement(g.a,{size:"mini",id:"procedure-modal",onClose:function(){return t.handleClose()},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-procedure-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"clipboard"}),"New Procedure"),r.a.createElement(g.a.Content,null,r.a.createElement(F.a,{onSubmit:this.handleSubmit},r.a.createElement(F.a.Field,{required:!0,id:"procedure-field"},r.a.createElement("label",null,"Procedure Name"),r.a.createElement(Z.a,{error:this.state.error.procedure,name:"procedure",id:"procedure-name",autoComplete:"false",placeholder:"Procedure Name",onChange:this.handleChange})))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"create-procedure-button",onClick:this.handleSubmit},r.a.createElement(H.a,{name:"check"}),"CREATE")))}}]),a}(r.a.Component),Me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={currentPassword:"",newPassword:"",confirmNewPassword:"",error:{currentPassword:!1,newPassword:!1,confirmNewPassword:!1}},e.handleOpen=function(){return e.props.handleModal("admin-reset-secretary")},e.handleClose=function(){e.resetState(),e.props.handleModal("none")},e.handleChange=function(t,a){var n=a.name,r=a.value;return e.setState(Object(D.a)({},n,r))},e.handleValidation=function(t){t.preventDefault();var a=e.state.currentPassword.trim(),n={currentPassword:!1,newPassword:!1,confirmNewPassword:!1};if(""===a)n.currentPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input your current password"),icon:"cancel"}),!1,e.setState({error:n}),e.handleNewPasswordValidation();else{var l={newPassword:a};b.a.post("admin/checkCurrentSecretaryPassword",l).then((function(t){if(!1===t.data)return n.currentPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect current password"),icon:"cancel"}),e.setState({error:n}),e.handleNewPasswordValidation(),!1;if(e.handleNewPasswordValidation()){var a={username:"secretary",newPassword:e.state.newPassword};b.a.post("admin/updateAccountPassword",a).then((function(t){e.handleClose(),e.resetState(),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Password successfully reset"),icon:"check"})}),1e3)}))}}))}},e}return Object(d.a)(a,[{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"resetState",value:function(){this.setState({currentPassword:"",newPassword:"",confirmNewPassword:"",error:{currentPassword:!1,newPassword:!1,confirmNewPassword:!1}})}},{key:"handleNewPasswordValidation",value:function(){var e=this.state.newPassword.trim(),t=this.state.confirmNewPassword.trim(),a=this.state.error,n=!0;return""===e?(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid password"),icon:"cancel"}),n=!1):e!==t?(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Passwords do not match"),icon:"cancel"}),n=!1):e.match(/^[0-9a-zA-Z]+$/)?e.length<10?(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too short"),icon:"cancel"}),n=!1):e.length>32&&(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too long"),icon:"cancel"}),n=!1):(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect password format"),icon:"cancel"}),n=!1),this.setState({error:a}),n}},{key:"render",value:function(){var e,t=this;return e="admin-reset-secretary"===this.props.activeModal,r.a.createElement(g.a,{closeIcon:!0,size:"mini",id:"reset-secretary-modal",onClose:function(){t.handleClose()},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-reset-secretary-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"edit"}),"Edit Secretary Password"),r.a.createElement(g.a.Content,null,r.a.createElement(F.a,{onSubmit:this.handleSubmit},r.a.createElement(F.a.Field,{required:!0,id:"sec-current-password-field"},r.a.createElement("label",null,"Current Password"),r.a.createElement(Z.a,{name:"currentPassword",type:"password",id:"sec-current-password",autoComplete:"false",placeholder:"Current Password",onChange:this.handleChange,error:this.state.error.currentPassword})),r.a.createElement(F.a.Field,{required:!0,id:"sec-new-password-field"},r.a.createElement("label",null,"New Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{name:"newPassword",type:"password",id:"sec-new-password",autoComplete:"false",placeholder:"New Password",onChange:this.handleChange,error:this.state.error.newPassword}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"sec-confirm-new-password-field"},r.a.createElement("label",null,"Confirm New Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{name:"confirmNewPassword",type:"password",id:"sec-confirm-new-password",autoComplete:"false",placeholder:"Confirm New Password",onChange:this.handleChange,error:this.state.error.confirmNewPassword}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"sec-save-password",onClick:this.handleValidation},r.a.createElement(H.a,{name:"check"}),"CONFIRM")))}}]),a}(r.a.Component),Ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={currentPassword:"",newPassword:"",confirmNewPassword:"",error:{currentPassword:!1,newPassword:!1,confirmNewPassword:!1}},e.handleOpen=function(){return e.props.handleModal("admin-reset-password")},e.handleClose=function(){e.resetState(),e.props.handleModal("none")},e.handleChange=function(t,a){var n=a.name,r=a.value;return e.setState(Object(D.a)({},n,r))},e.handleValidation=function(t){t.preventDefault();var a=e.state.currentPassword.trim(),n={currentPassword:!1,newPassword:!1,confirmNewPassword:!1};if(""===a)n.currentPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input your current password"),icon:"cancel"}),e.setState({error:n}),!1,e.handleNewPasswordValidation();else{var l={newPassword:a};b.a.post("admin/checkCurrentAdminPassword",l).then((function(t){if(!1===t.data)return n.currentPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect current password"),icon:"cancel"}),e.setState({error:n}),e.handleNewPasswordValidation(),!1;if(e.handleNewPasswordValidation()){var a={username:"admin",newPassword:e.state.newPassword};b.a.post("admin/updateAccountPassword",a).then((function(t){e.handleClose(),e.resetState(),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Password successfully reset"),icon:"check"})}),1e3)}))}}))}},e}return Object(d.a)(a,[{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"resetState",value:function(){this.setState({currentPassword:"",newPassword:"",confirmNewPassword:"",error:{currentPassword:!1,newPassword:!1,confirmNewPassword:!1}})}},{key:"handleNewPasswordValidation",value:function(){var e=this.state.newPassword.trim(),t=this.state.confirmNewPassword.trim(),a=this.state.error,n=!0;return""===e?(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid password"),icon:"cancel"}),n=!1):e!==t?(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Passwords do not match"),icon:"cancel"}),n=!1):e.match(/^[0-9a-zA-Z]+$/)?e.length<10?(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too short"),icon:"cancel"}),n=!1):e.length>32&&(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too long"),icon:"cancel"}),n=!1):(a.newPassword=!0,a.confirmNewPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect password format"),icon:"cancel"}),n=!1),this.setState({error:a}),n}},{key:"render",value:function(){var e,t=this;return e="admin-reset-password"===this.props.activeModal,r.a.createElement(g.a,{size:"mini",id:"reset-password-modal",onClose:function(){t.handleClose()},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-reset-password-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"edit"}),"Edit Admin Password"),r.a.createElement(g.a.Content,null,r.a.createElement(F.a,{onSubmit:this.handleSubmit},r.a.createElement(F.a.Field,{required:!0,id:"current-password-field"},r.a.createElement("label",null,"Current Password"),r.a.createElement(Z.a,{name:"currentPassword",type:"password",id:"current-password",autoComplete:"false",placeholder:"Current Password",onChange:this.handleChange,error:this.state.error.currentPassword})),r.a.createElement(F.a.Field,{required:!0,id:"new-password-field"},r.a.createElement("label",null,"New Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{name:"newPassword",type:"password",id:"new-password",autoComplete:"false",placeholder:"New Password",onChange:this.handleChange,error:this.state.error.newPassword}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"confirm-new-password-field"},r.a.createElement("label",null,"Confirm New Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{name:"confirmNewPassword",type:"password",id:"confirm-new-password",autoComplete:"false",placeholder:"Confirm New Password",onChange:this.handleChange,error:this.state.error.confirmNewPassword}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"save-password",onClick:this.handleValidation},r.a.createElement(H.a,{name:"check"}),"CONFIRM")))}}]),a}(r.a.Component),Te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).handleOpen=function(){return e.props.handleModal("admin-free-memory")},e.handleClose=function(){return e.props.handleModal("none")},e.handleDeleteOld=function(){b.a.post("secretary/deleteXYearsApp").then((function(t){e.handleClose(),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Old appointments successfully deleted"),icon:"check"})}),1e3)}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e,t=this;e="admin-free-memory"===this.props.activeModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"tiny",id:"old-modal",onClose:function(){return t.handleClose()},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-old-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"recycle"}),"Free-up Memory"),r.a.createElement(g.a.Content,null,r.a.createElement(ye.a,{basic:!0,style:{textAlign:"center"}},r.a.createElement(H.a,{size:"big",name:"exclamation triangle"})),r.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold"}},"This program was designed to handle 512MB to maintain the free service. We will warn every year to delete past appointments made 5 years ago and beyond. We strongly recommend to continue this action.")),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"red",id:"delete-old",onClick:this.handleDeleteOld},r.a.createElement(H.a,{name:"trash"}),"DELETE"))))}}]),a}(r.a.Component),Ne=a(657),xe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={procedure:"",error:{procedure:!1}},e.handleOpen=function(){return e.props.handleModal("admin-edit-procedure")},e.handleClose=function(){e.resetState(),e.props.handleModal("none")},e.handleChange=function(t,a){var n=a.name,r=a.value;return e.setState(Object(D.a)({},n,r))},e.handleUpdateTable=function(){return e.props.handleUpdateTable()},e.handleSubmit=function(t,a){var n=a.datakey;if(t.preventDefault(),e.handleValidation()){var l={procedureID:n,name:e.state.procedure.trim()};b.a.post("admin/editProcess",l).then((function(t){!0===t.data.message?(e.handleClose(),e.resetState(),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Procedure successfully edited"),icon:"check"})}),1e3),e.handleUpdateTable()):(console.log(t),Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Procedure already exists"),icon:"cancel"}))}))}},e}return Object(d.a)(a,[{key:"resetState",value:function(){this.setState({procedure:"",error:{procedure:!1}})}},{key:"handleValidation",value:function(){var e=this.state.procedure.trim(),t={procedure:!1},a=!0;return""!==e&&e.match(/^[a-z A-Z]+$/)||(t.procedure=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid procedure name"),icon:"cancel"}),a=!1),this.setState({error:t}),a}},{key:"render",value:function(){var e,t,a,n=this;return e="admin-edit-procedure"===this.props.activeModal,null!=this.props.data&&null!=this.props.data.processname&&(t=Object.values(this.props.data.processname),a=this.props.data.key),r.a.createElement(g.a,{size:"mini",id:"edit-procedure-modal",onClose:function(){return n.handleClose()},onOpen:function(){return n.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-edit-procedure-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"edit"}),"Edit Procedure"),r.a.createElement(g.a.Content,null,r.a.createElement(F.a,{onSubmit:this.handleSubmit},r.a.createElement(F.a.Field,{id:"old-procedure-field"},r.a.createElement("label",null,"Old Procedure Name"),r.a.createElement(Ne.a,{id:"old-procedure-name"},t)),r.a.createElement(F.a.Field,{required:!0,id:"edit-procedure-field"},r.a.createElement("label",null,"New Procedure Name"),r.a.createElement(Z.a,{error:this.state.error.procedure,name:"procedure",id:"edit-procedure-name",autoComplete:"false",placeholder:"Procedure Name",onChange:this.handleChange})))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{datakey:a,icon:!0,labelPosition:"left",color:"green",id:"edit-procedure-button",onClick:this.handleSubmit},r.a.createElement(H.a,{name:"check"}),"SAVE CHANGES")))}}]),a}(r.a.Component),We=(a(607),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).handleOpen=function(){return e.props.handleModal("admin-delete-procedure")},e.handleClose=function(){return e.props.handleModal("none")},e.handleUpdateTable=function(){return e.props.handleUpdateTable()},e.handleDelete=function(t,a){var n=a.datakey;t.preventDefault();var l={procedureID:n};b.a.post("admin/deleteProcess",l).then((function(t){e.handleClose(),Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Procedure successfully deleted"),icon:"check"}),e.handleUpdateTable()}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e,t,a,n=this;return e="admin-delete-procedure"===this.props.activeModal,null!=this.props.data&&null!=this.props.data.processname&&(t=Object.values(this.props.data.processname),a=this.props.data.key),r.a.createElement(g.a,{size:"mini",id:"delete-procedure-modal",onClose:function(){return n.handleClose()},onOpen:function(){return n.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-delete-procedure-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"trash"}),"Delete Procedure"),r.a.createElement(g.a.Content,null,r.a.createElement("span",{style:{fontSize:"15px"}},"Are you sure you want to delete"),"\xa0",r.a.createElement("span",{id:"modal-text-delete-procedure",style:{fontSize:"15px",fontWeight:"bold"}},t),r.a.createElement("span",{style:{fontSize:"15px"}},"?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex"},id:"warning"},r.a.createElement(H.a,{name:"info",style:{color:"red"}}),r.a.createElement("span",{style:{color:"red",fontSize:"13px"}},"All appointments with this procedure will be deleted."))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{datakey:a,icon:!0,labelPosition:"left",onClick:this.handleClose},r.a.createElement(H.a,{name:"cancel"}),"CANCEL"),r.a.createElement(I.a,{datakey:a,icon:!0,labelPosition:"left",color:"red",id:"delete-procedure-button",onClick:this.handleDelete},r.a.createElement(H.a,{name:"check"}),"CONFIRM")))}}]),a}(r.a.Component)),Ie=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={firstname:void 0,lastname:void 0,username:"",password:"",confirmPassword:"",error:{firstname:!1,lastname:!1,username:!1,password:!1,confirmPassword:!1}},e.handleOpen=function(){return e.props.handleModal("admin-edit-dentist")},e.handleClose=function(){e.resetState(),e.props.handleModal("none")},e.handleChange=function(t,a){var n=a.name,r=a.value;return e.setState(Object(D.a)({},n,r))},e.handleUpdateTable=function(){return e.props.handleUpdateTable()},e.handleSubmit=function(t,a){var n=a.datakey,l=a.firstname,o=a.lastname;if(t.preventDefault(),e.handleValidation(l,o)){var s={doctorID:n,firstname:l.trim(),lastname:o.trim(),password:e.state.password.trim()};b.a.post("admin/editDentist",s).then((function(t){e.handleClose(),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Dentist successfully edited"),icon:"check"})}),1e3),e.handleUpdateTable()}))}},e}return Object(d.a)(a,[{key:"resetState",value:function(){this.setState({firstname:void 0,lastname:void 0,username:"",password:"",confirmPassword:"",error:{firstname:!1,lastname:!1,username:!1,password:!1,confirmPassword:!1}})}},{key:"handleValidation",value:function(e,t){var a=/^[a-z A-Z]+$/,n=/^[a-z A-Z.\-_]+$/;e=e.trim(),t=t.trim();var l=this.state.password.trim(),o=this.state.confirmPassword.trim(),s={firstname:!1,lastname:!1,username:!1,password:!1,confirmPassword:!1},i=!0;return""!==e&&e.match(a)?e.length<2?(s.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Firstname is too short"),icon:"cancel"}),i=!1):e.match(a)||(s.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid firstname format"),icon:"cancel"}),i=!1):(s.firstname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid firstname"),icon:"cancel"}),i=!1),""!==t&&t.match(n)?t.length<2?(s.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Lastname is too short"),icon:"cancel"}),i=!1):t.match(n)||(s.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid lastname format"),icon:"cancel"}),i=!1):(s.lastname=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid lastname"),icon:"cancel"}),i=!1),""===l?(s.password=!0,s.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid password"),icon:"cancel"}),i=!1):l!==o?(s.password=!0,s.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Passwords do not match"),icon:"cancel"}),i=!1):l.match(/^[0-9a-zA-Z]+$/)?l.length<10?(s.password=!0,s.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too short"),icon:"cancel"}),i=!1):l.length>32&&(s.password=!0,s.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Password is too long"),icon:"cancel"}),i=!1):(s.password=!0,s.confirmPassword=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Incorrect password format"),icon:"cancel"}),i=!1),this.setState({error:s}),i}},{key:"componentDidMount",value:function(){var e=this;if(null!=this.props.data){var t=this.props.data.key;b.a.post("admin/getUser",{doctorID:t}).then((function(t){null!=t.data.user&&e.setState({username:t.data.user.username})}))}}},{key:"render",value:function(){var e,t,a,n,l=this;return e="admin-edit-dentist"===this.props.activeModal,void 0!=this.state.firstname||void 0!=this.state.lastname?(void 0!=this.state.firstname?t=this.state.firstname:null!=this.props.data&&null!=this.props.data.firstname&&(t=this.props.data.firstname),void 0!=this.state.lastname?a=this.state.lastname:null!=this.props.data&&null!=this.props.data.lastname&&(a=this.props.data.lastname)):null!=this.props.data&&null!=this.props.data.firstname&&null!=this.props.data.lastname&&(t=this.props.data.firstname,a=this.props.data.lastname),null!=this.props.data&&(n=this.props.data.key),r.a.createElement(g.a,{size:"mini",id:"edit-dentist-modal",onClose:function(){return l.handleClose()},onOpen:function(){return l.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-edit-dentist-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"edit"}),"Edit Dentist"),r.a.createElement(g.a.Content,null,r.a.createElement(F.a,{onSubmit:this.handleSubmit},r.a.createElement(F.a.Field,{required:!0,id:"edit-firstname-field-dentist"},r.a.createElement("label",null,"First Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.firstname,name:"firstname",id:"edit-firstname-dentist",autoComplete:"false",placeholder:"First Name",onChange:this.handleChange,value:t||""}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"edit-lastname-field-dentist"},r.a.createElement("label",null,"Last Name"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.lastname,name:"lastname",id:"edit-lastname-dentist",autoComplete:"false",placeholder:"Last Name",onChange:this.handleChange,value:a||""}),content:"Name should contain at least 2 characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"edit-username-field-dentist"},r.a.createElement("label",null,"Username"),r.a.createElement(Ne.a,{id:"edit-username-dentist",size:"mini",style:{fontSize:"1em",padding:"9.5px 14px 9.5px 14px",margin:0}},this.props.username)),r.a.createElement(F.a.Field,{required:!0,id:"edit-password-field-dentist"},r.a.createElement("label",null,"Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.password,name:"password",type:"password",id:"edit-password-dentist",autoComplete:"false",placeholder:"Password",onChange:this.handleChange}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})),r.a.createElement(F.a.Field,{required:!0,id:"edit-confirm-password-field-dentist"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement($.a,{trigger:r.a.createElement(Z.a,{error:this.state.error.confirmPassword,name:"confirmPassword",type:"password",id:"edit-confirm-password-dentist",autoComplete:"false",placeholder:"Password",onChange:this.handleChange}),content:"Password should contain 10 to 32 alphanumeric characters",position:"right center"})))),r.a.createElement(X.a,{active:this.props.activeDimmer,inverted:!0,id:"edit-dentist-dimmer",style:{maxHeight:"100%"}},r.a.createElement("div",{className:"ui elastic huge green loader"})),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"edit-dentist-button",onClick:this.handleSubmit,datakey:n,firstname:t,lastname:a},r.a.createElement(H.a,{name:"check"}),"SAVE CHANGES")))}}]),a}(r.a.Component),Fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).handleOpen=function(){return e.props.handleModal("admin-delete-dentist")},e.handleClose=function(){return e.props.handleModal("none")},e.handleUpdateTable=function(){return e.props.handleUpdateTable()},e.handleDelete=function(t,a){var n=a.datakey;t.preventDefault();var l={doctorID:n};b.a.post("admin/deleteAccount",l).then((function(t){e.handleClose(),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"User successfully deleted"),icon:"check"})}),1e3),e.handleUpdateTable()}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e,t,a,n,l=this;return e="admin-delete-dentist"===this.props.activeModal,null!=this.props.data&&null!=this.props.data.firstname&&null!=this.props.data.lastname&&(n=this.props.data.key,t=this.props.data.firstname,a=this.props.data.lastname),r.a.createElement(g.a,{size:"mini",id:"delete-dentist-modal",onClose:function(){return l.handleClose()},onOpen:function(){return l.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-delete-dentist-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"trash"}),"Delete Dentist"),r.a.createElement(g.a.Content,null,r.a.createElement("span",{style:{fontSize:"15px"}},"Are you sure you want to delete"),"\xa0",r.a.createElement("span",{id:"modal-text-delete-user",style:{fontSize:"15px",fontWeight:"bold"}},a,", ",t),r.a.createElement("span",{style:{fontSize:"15px"}},"?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex"},id:"warning"},r.a.createElement(H.a,{name:"info",style:{color:"red"}}),r.a.createElement("span",{style:{color:"red",fontSize:"13px"}},"All appointments by this dentist will be deleted."))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{datakey:n,icon:!0,labelPosition:"left",onClick:this.handleClose},r.a.createElement(H.a,{name:"cancel"}),"CANCEL"),r.a.createElement(I.a,{datakey:n,icon:!0,labelPosition:"left",color:"red",id:"delete-dentist-button",onClick:this.handleDelete},r.a.createElement(H.a,{name:"check"}),"CONFIRM")))}}]),a}(r.a.Component),_e=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e,t){var a=t.datakey,l=t.firstname,o=t.lastname,s=t.day,i=t.schedule,c=t.breaktime;if(e.preventDefault(),n.handleValidation()){var d,p,m=n.state.custom,u=A()(n.state.start).format("k:mm"),h=A()(n.state.end).format("k:mm");s=s.toLowerCase(),null!=n.state.start_add&&(d=A()(n.state.start_add).format("k:mm")),null!=n.state.end_add&&(p=A()(n.state.end_add).format("k:mm")),m?(i[s][0]=u,c[s][0]=h,c[s][1]=d,i[s][1]=p):(i[s][0]=u,i[s][1]=h,c[s]=[]);var f={"monday[]":i.monday,"tuesday[]":i.tuesday,"wednesday[]":i.wednesday,"thursday[]":i.thursday,"friday[]":i.friday,"saturday[]":i.saturday,"mondaydifference[]":c.monday,"tuesdaydifference[]":c.tuesday,"wednesdaydifference[]":c.wednesday,"thursdaydifference[]":c.thursday,"fridaydifference[]":c.friday,"saturdaydifference[]":c.saturday,doctorID:a,defaultTime:"false"};b.a.post("admin/editSchedule",f).then((function(e){e.data&&(setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Dentist schedule successfully edited"),icon:"check"})}),1e3),n.handleClose(a,l,o))}))}},n.handleOpen=function(){return n.props.handleModal("admin-edit-schedule")},n.handleChange=function(e,t){var a=t.name,r=t.value;return n.setState(Object(D.a)({},a,r))},n.handleCustom=function(){n.setState((function(e){return{custom:!e.custom}}))},n.handleDays=function(e,t){var a=t.name,r=n.state.days,l=!0;e.target.classList.contains("active")&&(l=!1),r[a]=l,n.setState({days:r})},n.state={start:null,end:null,start_add:null,end_add:null,custom:!1,error:{start:!1,end:!1,start_add:!1,end_add:!1}},n}return Object(d.a)(a,[{key:"resetState",value:function(){this.setState({start:null,end:null,start_add:null,end_add:null,custom:!1,error:{start:!1,end:!1,start_add:!1,end_add:!1}})}},{key:"handleValidation",value:function(){var e=this.state,t=e.custom,a=e.start,n=e.end,l=e.start_add,o=e.end_add,s=!0,i={start:!1,end:!1,start_add:!1,end_add:!1},c=!1,d=!1,p=!1,m=!1;return null===a?(i.start=!0,c=!0,s=!1):30!=a.getMinutes()&&0!=a.getMinutes()&&(i.start=!0,m=!0,s=!1),null===n?(i.end=!0,c=!0,s=!1):30!=n.getMinutes()&&0!=n.getMinutes()&&(i.end=!0,m=!0,s=!1),null!=a&&null!=n&&a===n?(i.start=!0,i.end=!0,d=!0,s=!1):null==a||null==n||a<n||(i.start=!0,i.end=!0,p=!0,s=!1),t&&(null===l?(i.start_add=!0,c=!0,s=!1):30!=l.getMinutes()&&0!=l.getMinutes()&&(i.start_add=!0,m=!0,s=!1),null===o?(i.end_add=!0,c=!0,s=!1):30!=o.getMinutes()&&0!=o.getMinutes()&&(i.end_add=!0,m=!0,s=!1),null==l||null==o||l!==o&&n!==l?null==l||null==o||l<o&&n<l||(i.start=!0,i.end=!0,i.start_add=!0,i.end_add=!0,p=!0,s=!1):(i.start_add=!0,i.end_add=!0,d=!0,s=!1)),c&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid time"),icon:"cancel"}),d&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Time interval is too short"),icon:"cancel"}),p&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid time interval"),icon:"cancel"}),m&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid time"),icon:"cancel"}),this.setState({error:i}),s}},{key:"handleClose",value:function(e,t,a){this.props.handleModal("admin-view-schedule",{key:e,firstname:t,lastname:a}),this.props.handleUpdateTable(e),this.resetState()}},{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"handleStartAdd",value:function(e){this.setState({start_add:e})}},{key:"handleEndAdd",value:function(e){this.setState({end_add:e})}},{key:"handleStart",value:function(e){this.setState({start:e})}},{key:"handleEnd",value:function(e){this.setState({end:e})}},{key:"render",value:function(){var e,t=this;e="admin-edit-schedule"===this.props.activeModal;var a,n,l,o,s,i={fontWeight:"bold",color:"white"},c=new Date,d=new Date;c.setHours(8),c.setMinutes(0),d.setHours(18),d.setMinutes(0),this.state.custom&&(a=r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{centered:!0,columns:3},r.a.createElement(ke.a.Row,{style:{padding:"0"}},r.a.createElement("span",{style:{fontWeight:"bold"},id:"second-schedule"},"Second Session")),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"Start Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.start_add,timeIntervals:30,dateFormat:"H:mm",minTime:c,maxTime:d,onChange:function(e){return t.handleStartAdd(e)},id:"edit-start-add",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"Start Time",autoComplete:"false",name:"start-add",required:!0,error:this.state.error.start_add})})),r.a.createElement(ye.a,{basic:!0,style:{margin:"6px 0 0 0",fontWeight:"bold"}},"to"),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"End Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.end_add,timeIntervals:30,dateFormat:"H:mm",minTime:c,maxTime:d,onChange:function(e){return t.handleEndAdd(e)},id:"end-add",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"End Time",autoComplete:"false",name:"edit-end-add",required:!0,error:this.state.error.end_add})})))),i={fontWeight:"bold"});var p,m=this.props.schedule,u=this.props.breaktime;return null!=this.props.data&&null!=this.props.data.firstname&&null!=this.props.data.lastname&&(n=this.props.data.firstname,l=this.props.data.lastname,o=this.props.data.doctorID,s=this.props.data.name,p=this.props.data.index),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"small",id:"editing-schedule-modal",onClose:function(){return t.handleClose(o,n,l)},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:function(){return t.handleClose(o,n,l)},id:"close-editing-schedule-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"edit"}),"Edit Schedule"),r.a.createElement(g.a.Content,null,r.a.createElement(ke.a,{centered:!0,columns:1},r.a.createElement(ke.a.Column,{style:{textAlign:"center",margin:"15px 0 0 0"}},r.a.createElement(ke.a.Row,null,r.a.createElement(T.a,{as:"h3"},"Working Hours")))),r.a.createElement(ke.a,{centered:!0,columns:1},r.a.createElement(Se.a,{style:{margin:"20px 0 20px 0"},label:function(e){return r.a.createElement("label",{id:"custom",htmlFor:"custom",checked:e},"Customized Working Hours")},name:"custom",onChange:this.handleCustom,checked:this.state.custom})),r.a.createElement(ke.a,{centered:!0,columns:3},r.a.createElement(ke.a.Row,{style:{padding:"0"}},r.a.createElement("span",{style:i,id:"first-schedule"},"First Session")),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"Start Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.start,timeIntervals:30,dateFormat:"H:mm",minTime:c,maxTime:d,onChange:function(e){return t.handleStart(e)},id:"edit-start",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"Start Time",autoComplete:"false",name:"start",required:!0,error:this.state.error.start})})),r.a.createElement(ye.a,{basic:!0,style:{margin:"6px 0 0 0",fontWeight:"bold"}},"to"),r.a.createElement(ke.a.Column,null,r.a.createElement(S.a,{placeholderText:"End Time",required:!0,showTimeSelect:!0,showTimeSelectOnly:!0,selected:this.state.end,timeIntervals:30,dateFormat:"H:mm",minTime:c,maxTime:d,onChange:function(e){return t.handleEnd(e)},id:"edit-end",customInput:r.a.createElement(Z.a,{icon:"time",iconPosition:"left",placeholder:"End Time",autoComplete:"false",name:"end",required:!0,error:this.state.error.end})}))),a),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"save-changes-schedule",onClick:this.handleSubmit,datakey:o,firstname:n,lastname:l,day:s,schedule:m,breaktime:u},r.a.createElement(H.a,{name:"check"}),"SAVE CHANGES"),void 0!=s&&void 0!==m[s.toLowerCase()][0]&&r.a.createElement(H.a,{name:"trash",id:"save-changes-schedule",size:"big",style:{margin:"0 3.5px 0 3.5px"},onClick:function(){t.resetState(),t.props.handleModal("admin-delete-schedule",{day:s,firstname:n,lastname:l,doctorID:o,index:p})}}))))}}]),a}(r.a.Component),He=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeTable:"weekly"},e.handleOpen=function(){return e.props.handleModal("admin-view-schedule")},e.handleClose=function(){e.resetState(),e.props.handleModal("none")},e.handleTable=function(){"weekly"===e.state.activeTable?e.setState({activeTable:"unavailable"}):e.setState({activeTable:"weekly"})},e}return Object(d.a)(a,[{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"resetState",value:function(){this.setState({activeTable:"weekly"})}},{key:"render",value:function(){var e,t,a,n,l=this;e="admin-view-schedule"===this.props.activeModal,null!=this.props.data&&null!=this.props.data.firstname&&null!=this.props.data.lastname&&(n=this.props.data.key,t=this.props.data.firstname,a=this.props.data.lastname);var o,s,i,c,d=this.props.schedule,p=this.props.unavailable;return"weekly"==this.state.activeTable?(c=!0,s=r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{id:"weekly",color:"green"},"Weekly Schedule"),r.a.createElement(I.a,{id:"unavailable",onClick:this.handleTable},"Unavailable Date")),i=r.a.createElement(I.a,{id:"add-schedule",color:"green",onClick:function(){l.props.handleModal("admin-create-schedule")}},"Reset"),null!=d&&(o=r.a.createElement(r.a.Fragment,null,d.map((function(e,o){var s=e.name,i=e.time;return r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{style:{textAlign:"center",fontWeight:"bold",width:"46%"}},s),r.a.createElement(N.a.Cell,{style:{textAlign:"center",width:"46%"}},i.map((function(e){var t=e.range;return r.a.createElement(r.a.Fragment,null,t," ",r.a.createElement("br",null))}))),r.a.createElement(N.a.Cell,{textAlign:"right",style:{width:"8%"}},r.a.createElement(H.a,{name:"edit",id:s.toString()+"-edit",size:"large",onClick:function(){return l.props.handleModal("admin-edit-schedule",{firstname:t,lastname:a,doctorID:n,name:s,index:o})}})))}))))):(c=!1,i=r.a.createElement(I.a,{id:"add-unavailable",color:"green",onClick:function(){l.props.handleModal("admin-add-unavailable")}},"Add"),s=r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{id:"weekly",onClick:this.handleTable},"Weekly Schedule"),r.a.createElement(I.a,{id:"unavailable",color:"green"},"Unavailable Date")),null!=p&&p.length>=1&&(o=r.a.createElement(r.a.Fragment,null,p.map((function(e,o){var s=e._id,i=e.time;return r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{style:{fontWeight:"bold"}},i),r.a.createElement(N.a.Cell,{textAlign:"right"},r.a.createElement(H.a,{name:"trash",id:"delete-unavailable-button-"+o,size:"large",onClick:function(){l.props.handleModal("admin-delete-unavailable",{doctorID:n,unavailableDateID:s,time:i,firstname:t,lastname:a})}})))}))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"small",id:"schedule-modal",onClose:function(){return l.handleClose()},onOpen:function(){return l.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:this.handleClose,id:"close-schedule-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"calendar"}),"Schedule"),r.a.createElement(g.a.Content,{scrolling:!0},r.a.createElement(ke.a,null,r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.Column,{width:13},r.a.createElement(H.a,{name:"user md",size:"big",style:{marginRight:"13.5px"}}),r.a.createElement("span",{id:"doctor-name-schedule",style:{fontWeight:"bold",fontSize:"20px"}},t,"\xa0",a)),r.a.createElement(ke.a.Column,{width:3,textAlign:"right"},i)),r.a.createElement(ke.a.Row,{centered:!0},s),r.a.createElement(N.a,{celled:c,striped:!0,selectable:!0,id:"schedule-table"},r.a.createElement(N.a.Body,{id:"table-schedule"},o)),r.a.createElement(X.a,{active:this.props.activeDimmer,inverted:!0,id:"table-dimmer"},r.a.createElement("div",{className:"ui elastic huge green loader"})),p.length<=0&&"unavailable"==this.state.activeTable&&r.a.createElement(ke.a.Row,{centered:!0},r.a.createElement("span",null,"No unavailable dates yet")))),r.a.createElement(g.a.Actions,null)))}}]),a}(r.a.Component),ze=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e,t){var a=t.datakey;e.preventDefault();var l=n.state,o=l.start,s=l.end,i={start:!1,end:!1},c=!1,d=!1,p=!0;if(null===o?(i.start=!0,c=!0,p=!1):o<=new Date&&(i.start=!0,d=!0,p=!1),null===s?(i.end=!0,c=!0,p=!1):s<=new Date&&(i.end=!0,d=!0,p=!1),null==o||null==s||o<=s||(i.start=!0,i.end=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid date interval"),icon:"cancel"}),p=!1),c&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Please input a valid date"),icon:"cancel"}),d&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid date"),icon:"cancel"}),n.setState({error:i}),p){o=A()(o).format("MMMM D, yyyy"),s=A()(s).format("MMMM D, yyyy");var m={doctorID:a,startDate:o,endDate:s};b.a.post("admin/doctorHasAppointment",m).then((function(e){!0===e.data?(i.start=!0,i.end=!0,Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"The chosen date has appointment/s"),icon:"cancel"})):b.a.post("admin/addUnavailableDates",m).then((function(e){!0===e.data&&(n.handleClose(a),Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Unavailable dates successfully added"),icon:"check"}))}))}))}},n.handleOpen=function(){return n.props.handleModal("admin-add-unavailable")},n.handleChange=function(e,t){var a=t.name,r=t.value;return n.setState(Object(D.a)({},a,r))},n.state={start:null,end:null,error:{start:!1,end:!1}},n}return Object(d.a)(a,[{key:"resetState",value:function(){this.setState({start:null,end:null,error:{start:!1,end:!1}})}},{key:"handleClose",value:function(e){this.props.handleModal("admin-view-schedule"),this.props.handleUpdateTable(e),this.resetState()}},{key:"handleModal",value:function(e){this.props.handleModal(e)}},{key:"handleStart",value:function(e){this.setState({start:e})}},{key:"handleEnd",value:function(e){this.setState({end:e})}},{key:"render",value:function(){var e,t=this;e="admin-add-unavailable"===this.props.activeModal;var a,n=new Date;return n.setDate((new Date).getDate()+1),null!=this.props.data&&(a=this.props.data.key),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{size:"tiny",id:"add-unavailable-modal",onClose:function(){return t.handleClose(a)},onOpen:function(){return t.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:function(){return t.handleClose(a)},id:"close-add-unavailable-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"calendar"}),"Add Unavailable Date"),r.a.createElement(g.a.Content,null,r.a.createElement(ke.a,{columns:3},r.a.createElement(ke.a.Row,null,r.a.createElement(ke.a.Column,{floated:"left"},r.a.createElement(S.a,{placeholderText:"Start Date",required:!0,selected:this.state.start,dateFormat:"MMMM d, yyyy",minDate:n,onChange:function(e){return t.handleStart(e)},id:"start-date-input",customInput:r.a.createElement(Z.a,{icon:"calendar",iconPosition:"left",placeholder:"Start Date",autoComplete:"false",name:"start",required:!0,error:this.state.error.start})})),r.a.createElement("span",{style:{margin:"10px 0 0 0",fontWeight:"bold"}},"to"),r.a.createElement(ke.a.Column,{floated:"left"},r.a.createElement(S.a,{placeholderText:"End Date",required:!0,selected:this.state.end,dateFormat:"MMMM d, yyyy",minDate:n,onChange:function(e){return t.handleEnd(e)},id:"end-date-input",customInput:r.a.createElement(Z.a,{icon:"calendar",iconPosition:"left",placeholder:"End Date",autoComplete:"false",name:"end",required:!0,error:this.state.error.start})}))))),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"green",id:"add-unavailable-button",onClick:this.handleSubmit,datakey:a},r.a.createElement(H.a,{name:"check"}),"FINISH"))))}}]),a}(r.a.Component),Re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleOpen=function(){return n.props.handleModal("admin-delete-unavailable")},n.handleDelete=function(e,t){var a=t.unavailabledateid,l=t.doctorid,o=t.firstname,s=t.lastname;e.preventDefault();var i={unavailableDateID:a};b.a.post("admin/deleteUnavailableDates",i).then((function(e){n.handleClose(l,o,s),setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Unavailable date successfully deleted"),icon:"check"})}),1e3)}))},n.handleOpen=n.handleOpen.bind(Object(p.a)(n)),n.handleClose=n.handleClose.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"handleClose",value:function(e,t,a){this.props.handleModal("admin-view-schedule",{key:e,firstname:t,lastname:a}),this.props.handleUpdateTable(e)}},{key:"render",value:function(){var e,t,a,n,l,o,s=this;return e="admin-delete-unavailable"===this.props.activeModal,null!=this.props.data&&null!=this.props.data.time&&(o=this.props.data.unavailableDateID,t=this.props.data.time,a=this.props.data.firstname,n=this.props.data.lastname,l=this.props.data.doctorID),r.a.createElement(g.a,{size:"mini",id:"confirmation-modal",onClose:function(){return s.handleClose(l,a,n)},onOpen:function(){return s.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:function(){return s.handleClose(l,a,n)},id:"close-confirmation-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"trash"}),"Delete Unavailable Date"),r.a.createElement(g.a.Content,null,r.a.createElement("span",{id:"modal-text-delete-unavailable",style:{fontSize:"15px",fontWeight:"bold"}},t),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"15px"}},"Are you sure you want to delete this Date")),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{datakey:void 0,icon:!0,labelPosition:"left",onClick:function(){return s.handleClose(l,a,n)}},r.a.createElement(H.a,{name:"cancel"}),"CANCEL"),r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"red",id:"remove-unavailable-button",unavailabledateid:o,doctorid:l,firstname:a,lastname:n,onClick:this.handleDelete},r.a.createElement(H.a,{name:"check"}),"CONFIRM")))}}]),a}(r.a.Component),qe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleOpen=function(){return n.props.handleModal("admin-delete-schedule")},n.handleDelete=function(e,t){var a=t.datakey,l=t.firstname,o=t.lastname,s=t.day,i=t.schedule,c=t.breaktime;e.preventDefault(),i[s=s.toLowerCase()]=[],c[s]=[];var d={"monday[]":i.monday,"tuesday[]":i.tuesday,"wednesday[]":i.wednesday,"thursday[]":i.thursday,"friday[]":i.friday,"saturday[]":i.saturday,"mondaydifference[]":c.monday,"tuesdaydifference[]":c.tuesday,"wednesdaydifference[]":c.wednesday,"thursdaydifference[]":c.thursday,"fridaydifference[]":c.friday,"saturdaydifference[]":c.saturday,doctorID:a,defaultTime:"false"};b.a.post("admin/editSchedule",d).then((function(e){e.data&&(setTimeout((function(){Object(C.toast)({type:"success",title:"Success",description:r.a.createElement("p",null,"Dentist schedule successfully deleted"),icon:"check"})}),1e3),n.handleClose(a,l,o))}))},n.handleOpen=n.handleOpen.bind(Object(p.a)(n)),n.handleClose=n.handleClose.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"handleClose",value:function(e,t,a){this.props.handleModal("admin-view-schedule",{key:e,firstname:t,lastname:a}),this.props.handleUpdateTable(e)}},{key:"render",value:function(){var e,t,a,n,l=this;e="admin-delete-schedule"===this.props.activeModal;var o,s,i,c=this.props.schedule,d=this.props.breaktime;return null!=this.props.data&&(o=this.props.data.day,t=this.props.data.firstname,a=this.props.data.lastname,n=this.props.data.doctorID,null!=this.props.sched_time[this.props.data.index]&&null!=this.props.sched_time[this.props.data.index].time[0]&&(s=this.props.sched_time[this.props.data.index].time[0].range),null!=this.props.sched_time[this.props.data.index]&&null!=this.props.sched_time[this.props.data.index].time[1]&&(i=this.props.sched_time[this.props.data.index].time[1].range)),r.a.createElement(g.a,{size:"mini",id:"remove-schedule-modal",onClose:function(){return l.handleClose(n,t,a)},onOpen:function(){return l.handleOpen()},open:e},r.a.createElement(H.a,{name:"close",onClick:function(){return l.handleClose(n,t,a)},id:"close-remove-schedule-modal"}),r.a.createElement(g.a.Header,{as:"h2"},r.a.createElement(H.a,{name:"trash"}),"Remove Schedule"),r.a.createElement(g.a.Content,null,r.a.createElement("span",{style:{fontSize:"15px",fontWeight:"bold"}},o,r.a.createElement("br",null)),r.a.createElement("span",{style:{fontSize:"15px",fontWeight:"bold"}},s,r.a.createElement("br",null),i),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"15px"}},"Are you sure you want to delete this schedule?")),r.a.createElement(g.a.Actions,null,r.a.createElement(I.a,{icon:!0,labelPosition:"left",onClick:function(){return l.handleClose(n,t,a)}},r.a.createElement(H.a,{name:"cancel"}),"CANCEL"),r.a.createElement(I.a,{icon:!0,labelPosition:"left",color:"red",id:"remove-unavailable-button",schedule:c,breaktime:d,datakey:n,firstname:t,lastname:a,day:o,onClick:this.handleDelete},r.a.createElement(H.a,{name:"check"}),"CONFIRM")))}}]),a}(r.a.Component),Ye=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleShowDimmer=function(){return n.setState({activeDimmer:!0})},n.handleHideDimmer=function(){return n.setState({activeDimmer:!1})},n.handleShowScheduleDimmer=function(){return n.setState({activeScheduleDimmer:!0})},n.handleHideScheduleDimmer=function(){return n.setState({activeScheduleDimmer:!1})},n.handleShowEditDentistDimmer=function(){return n.setState({activeEditDentistDimmer:!0})},n.handleHideEditDentistDimmer=function(){return n.setState({activeEditDentistDimmer:!1})},n.handleItem=n.handleItem.bind(Object(p.a)(n)),n.handleModal=n.handleModal.bind(Object(p.a)(n)),n.handleTable=n.handleTable.bind(Object(p.a)(n)),n.handleUpdateDentistTable=n.handleUpdateDentistTable.bind(Object(p.a)(n)),n.handleUpdateProcedureTable=n.handleUpdateProcedureTable.bind(Object(p.a)(n)),n.handleUpdateScheduleTable=n.handleUpdateScheduleTable.bind(Object(p.a)(n)),n.handleUpdateUnavailableTable=n.handleUpdateUnavailableTable.bind(Object(p.a)(n)),n.handleUpdateModalUsername=n.handleUpdateModalUsername.bind(Object(p.a)(n)),n.handleShowDimmer=n.handleShowDimmer.bind(Object(p.a)(n)),n.handleHideDimmer=n.handleHideDimmer.bind(Object(p.a)(n)),n.state={activeItem:"Dentist",activeModal:"none",activeTable:"Dentist",dentists:[],procedures:[],schedule:[],unavailable:[],activeDimmer:!1,activeScheduleDimmer:!1,activeEditDentistDimmer:!1,username:""},n.handleUpdateDentistTable(),n.handleUpdateProcedureTable(),n}return Object(d.a)(a,[{key:"handleItem",value:function(e){this.setState({activeItem:e})}},{key:"handleModal",value:function(e,t){void 0!=t?this.setState({activeModal:e,data:t}):this.setState({activeModal:e})}},{key:"handleTable",value:function(e){this.setState({activeTable:e})}},{key:"handleUpdateDentistTable",value:function(){var e=this;this.handleShowDimmer(),b.a.get("admin/getAllDentists").then((function(t){e.setState({dentists:Object(q.a)(t.data.dentists.map((function(e){return{key:e._id,firstname:e.firstname,lastname:e.lastname,status:e.status,lastLogin:e.lastLogin,username:e.username}})))}),e.handleHideDimmer()}))}},{key:"handleUpdateProcedureTable",value:function(){var e=this;this.handleShowDimmer(),b.a.get("admin/getAllProcedures").then((function(t){e.setState({procedures:Object(q.a)(t.data.procedures.map((function(e){return{key:e._id,processname:e.processname}})))}),e.handleHideDimmer()}))}},{key:"handleUpdateScheduleTable",value:function(e){var t=this;this.handleShowScheduleDimmer(),b.a.post("admin/getDentistSchedule",{doctorID:e}).then((function(e){t.setState({schedule:e.data.sched}),t.handleHideScheduleDimmer()})),b.a.post("admin/getDoctorSchedule",{doctorID:e}).then((function(e){t.setState({editSchedule:e.data.docSched,editBreaktime:e.data.breakTime})}))}},{key:"handleUpdateUnavailableTable",value:function(e){var t=this;this.handleShowScheduleDimmer(),b.a.post("admin/getAllUnavailableDates",{doctorID:e}).then((function(e){t.setState({unavailable:e.data.sched}),t.handleHideScheduleDimmer()}))}},{key:"handleUpdateModalUsername",value:function(e){var t=this;this.handleShowEditDentistDimmer(),b.a.post("admin/getUser",{doctorID:e}).then((function(e){t.setState({username:e.data.user.username}),t.handleHideEditDentistDimmer()}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.SemanticToastContainer,{position:"top-center"}),r.a.createElement(ke.a,{columns:2,id:"container",style:{padding:"0px",margin:"0px"}},r.a.createElement(be,{handleItem:this.handleItem,handleTable:this.handleTable,handleModal:this.handleModal,activeItem:this.state.activeItem}),r.a.createElement(ke.a.Column,{style:{width:"85%",overflowY:"scroll",maxHeight:"100vh"}},r.a.createElement(X.a,{active:this.state.activeDimmer,inverted:!0,id:"list-dimmer",style:{maxHeight:"100%"}},r.a.createElement("div",{className:"ui elastic huge green loader"})),r.a.createElement(we,{activeTable:this.state.activeTable,handleModal:this.handleModal,dentists:this.state.dentists,procedures:this.state.procedures,handleUpdateDentistTable:this.handleUpdateDentistTable,handleUpdateProcedureTable:this.handleUpdateProcedureTable,handleUpdateScheduleTable:this.handleUpdateScheduleTable,handleUpdateUnavailableTable:this.handleUpdateUnavailableTable,handleUpdateModalUsername:this.handleUpdateModalUsername}))),r.a.createElement(De,{handleModal:this.handleModal,activeModal:this.state.activeModal}),r.a.createElement(Ae,{handleModal:this.handleModal,activeModal:this.state.activeModal,handleUpdateTable:this.handleUpdateDentistTable}),r.a.createElement(je,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateScheduleTable:this.handleUpdateScheduleTable}),r.a.createElement(Pe,{handleModal:this.handleModal,activeModal:this.state.activeModal,handleUpdateTable:this.handleUpdateProcedureTable}),r.a.createElement(ze,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateUnavailableTable}),r.a.createElement(Me,{handleModal:this.handleModal,activeModal:this.state.activeModal}),r.a.createElement(Ue,{handleModal:this.handleModal,activeModal:this.state.activeModal}),r.a.createElement(Te,{handleModal:this.handleModal,activeModal:this.state.activeModal}),r.a.createElement(xe,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateProcedureTable}),r.a.createElement(Ie,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateDentistTable,username:this.state.username,activeDimmer:this.state.activeEditDentistDimmer}),r.a.createElement(_e,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateScheduleTable,schedule:this.state.editSchedule,breaktime:this.state.editBreaktime}),r.a.createElement(We,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateProcedureTable}),r.a.createElement(Fe,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateDentistTable}),r.a.createElement(Re,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateUnavailableTable}),r.a.createElement(He,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateDentistTable,schedule:this.state.schedule,unavailable:this.state.unavailable,activeDimmer:this.state.activeScheduleDimmer}),r.a.createElement(qe,{handleModal:this.handleModal,activeModal:this.state.activeModal,data:this.state.data,handleUpdateTable:this.handleUpdateScheduleTable,sched_time:this.state.schedule,schedule:this.state.editSchedule,breaktime:this.state.editBreaktime}))}}]),a}(r.a.Component),Le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).redirecToPage=function(e){n.props.history;switch(e){case 1:window.location.href="/secretary",console.log("sec");break;case 2:b.a.get("dentist//getCurrentDentist").then((function(e){"Active"===e.data.status&&(window.location.href="/dentist")}));break;case 3:window.location.href="/admin"}},n.redirectToDentist=function(){n.props.history;window.location.href="/dentist"},n.redirectToSecretary=function(){n.props.history;window.location.href="/dentist"},n.redirectToAdmin=function(){window.location.href="/admin"},n.onChangeUserName=n.onChangeUserName.bind(Object(p.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(p.a)(n)),n.getSession=n.getSession.bind(Object(p.a)(n)),n.onSubmit=n.onSubmit.bind(Object(p.a)(n)),n.state={username:"",password:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getSession()}},{key:"getSession",value:function(){var e=this;b.a.get("/login").then((function(t){console.log("login: "+t.data.message),e.redirecToPage(t.data.message)}))}},{key:"onChangeUserName",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};console.log(a),b.a.post("validateLogin",a).then((function(e){2===e.data.message?Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"Invalid Password. Try again."),icon:"cancel"}):0===e.data.message&&Object(C.toast)({type:"error",title:"Error",description:r.a.createElement("p",null,"This account does not exist."),icon:"cancel"}),console.log(e.data),t.getSession()})).catch((function(e){console.log("Error: "+e),console.log("Error Status:"+e.status),console.log("Error Code: "+e.code)}))}},{key:"render",value:function(){return r.a.createElement("div",{style:v.a},r.a.createElement(s.a,null,r.a.createElement(i.a,{path:"/dentist",component:R}),r.a.createElement(i.a,{path:"/secretary",component:he}),r.a.createElement(i.a,{path:"/admin",component:Ye})),r.a.createElement("head",null,r.a.createElement("title",null,"Access Dental Clinic | Login"),r.a.createElement("script",{src:"javascript/jquery.js"})),r.a.createElement("div",{className:"ui middle aligned center aligned very padded grid"},r.a.createElement("div",{className:"column",style:{maxWidth:"300px"}},r.a.createElement("div",{className:"row",style:{marginTop:"50px"}},r.a.createElement("img",{src:f.a,alt:"pic",className:"ui image"})),r.a.createElement(C.SemanticToastContainer,null),r.a.createElement("form",{className:"ui large form",id:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement("div",{className:"field",id:"username-input"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"Username",value:this.state.username,onChange:this.onChangeUserName}))),r.a.createElement("div",{className:"field",id:"password-input"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.onChangePassword}))),r.a.createElement(k,null),r.a.createElement("button",{type:"button",id:"submit",className:"ui fluid large pink submit button",onClick:this.onSubmit},"Login"))))))}}]),a}(n.Component);var Ve=function(){return r.a.createElement(s.a,null,r.a.createElement(i.a,{path:"/",exact:!0,component:Le}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(609);var Be=r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{path:"/",component:Ve}),r.a.createElement(i.a,{path:"/secretary",component:he}),r.a.createElement(i.a,{path:"/admin",component:Ye}),r.a.createElement(i.a,{path:"/dentist",component:R})));o.a.render(Be,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[384,1,2]]]);
//# sourceMappingURL=main.ca95b177.chunk.js.map